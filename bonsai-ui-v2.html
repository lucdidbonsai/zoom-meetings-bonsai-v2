<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bonsai CRM - Contacts</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        :root {
          --bonsai-green: #22ad01;
          --text-primary: #1a1a1a;
          --text-secondary: #6b6b6b;
          --text-tertiary: #999;
          --border-light: #e5e5e5;
          --bg-page: #fafafa;
          --bg-white: #ffffff;
          --bg-hover: #f5f5f5;
          --bg-active: #e8f5e9;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
          -webkit-font-smoothing: antialiased;
          color: var(--text-primary);
          background-color: var(--bg-page);
        }

        /* Layout */
        .app-container { display: flex; height: 100vh; overflow: hidden; }

        /* Sidebar */
        .sidebar {
          width: 280px;
          background: var(--bg-white);
          border-right: 1px solid var(--border-light);
          display: flex;
          flex-direction: column;
        }
        .sidebar-logo {
          padding: 20px 16px;
          display: flex;
          align-items: center;
          gap: 12px;
          border-bottom: 1px solid var(--border-light);
        }
        .logo-icon {
          width: 32px;
          height: 32px;
          background: var(--bonsai-green);
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 700;
          font-size: 18px;
          flex-shrink: 0;
        }
        .logo-text {
          font-size: 15px;
          font-weight: 600;
          color: var(--text-primary);
        }
        .sidebar-nav {
          padding: 16px 12px;
          flex: 1;
        }
        .nav-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 10px 12px;
          font-size: 15px;
          color: var(--text-primary);
          text-decoration: none;
          border-radius: 8px;
          cursor: pointer;
          transition: all 150ms;
          margin-bottom: 4px;
        }
        .nav-item:hover { background: var(--bg-hover); }
        .nav-item.active {
          background: var(--bg-active);
          color: var(--bonsai-green);
          font-weight: 500;
        }
        .nav-icon {
          width: 20px;
          height: 20px;
          flex-shrink: 0;
        }
        .sidebar-footer {
          padding: 12px;
          border-top: 1px solid var(--border-light);
          display: flex;
          gap: 8px;
        }
        .sidebar-footer-icon {
          width: 40px;
          height: 40px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: background 150ms;
        }
        .sidebar-footer-icon:hover {
          background: var(--bg-hover);
        }
        .nav-section {
          margin-bottom: 8px;
        }
        .nav-section-header {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 10px 12px;
          font-size: 15px;
          color: var(--text-primary);
          text-decoration: none;
          border-radius: 8px;
          cursor: pointer;
          transition: all 150ms;
          font-weight: 500;
        }
        .nav-section-header:hover { background: var(--bg-hover); }
        .nav-section-header.active {
          background: var(--bg-active);
          color: var(--bonsai-green);
        }
        .nav-section-items {
          padding-left: 16px;
          margin-top: 4px;
        }
        .collapse-icon {
          width: 20px;
          height: 20px;
          color: var(--text-tertiary);
          cursor: pointer;
          margin-left: auto;
        }

        /* Avatar styles */
        .avatar {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          object-fit: cover;
          flex-shrink: 0;
        }
        .avatar-sm {
          width: 20px;
          height: 20px;
        }
        .avatar-lg {
          width: 32px;
          height: 32px;
        }

        /* Actor link styles */
        .actor-link {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          color: var(--bonsai-green);
          text-decoration: none;
          cursor: pointer;
          transition: opacity 150ms;
        }
        .actor-link:hover {
          opacity: 0.8;
        }

        /* Main Content */
        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }

        /* Topbar */
        .topbar {
          height: 60px;
          background: var(--bg-white);
          border-bottom: 1px solid var(--border-light);
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 0 24px;
        }
        .topbar-left { display: flex; align-items: center; gap: 12px; }
        .page-title-topbar { font-size: 16px; font-weight: 600; }
        .breadcrumb-topbar {
          display: flex;
          align-items: center;
          gap: 8px;
          font-size: 14px;
          color: var(--text-secondary);
        }
        .breadcrumb-sep { color: var(--text-tertiary); }
        .topbar-right { display: flex; align-items: center; gap: 12px; }
        .icon-btn {
          width: 36px;
          height: 36px;
          border-radius: 6px;
          border: none;
          background: none;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          color: var(--text-secondary);
        }
        .icon-btn:hover { background: var(--bg-hover); }
        .btn-primary {
          padding: 8px 16px;
          background: var(--bonsai-green);
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 14px;
          font-weight: 500;
          cursor: pointer;
        }
        .btn-primary:hover { background: #1e9a01; }

        /* Content Area */
        .content-area { flex: 1; overflow: auto; background: var(--bg-white); }

        /* Table View */
        .table-container { padding: 0; }
        .table-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px 24px;
          border-bottom: 1px solid var(--border-light);
        }
        .search-wrapper {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        .search-input {
          width: 280px;
          height: 36px;
          padding: 0 12px 0 36px;
          border: 1px solid var(--border-light);
          border-radius: 6px;
          font-size: 14px;
          position: relative;
        }
        .search-icon-wrapper {
          position: relative;
          display: inline-block;
        }
        .search-icon {
          position: absolute;
          left: 10px;
          top: 50%;
          transform: translateY(-50%);
          width: 16px;
          height: 16px;
          color: var(--text-tertiary);
        }
        .filter-btn {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 12px;
          border: 1px solid var(--border-light);
          border-radius: 6px;
          background: none;
          font-size: 14px;
          color: var(--text-primary);
          cursor: pointer;
        }

        /* Table */
        .contacts-table {
          width: 100%;
          border-collapse: collapse;
        }
        .contacts-table thead {
          background: var(--bg-page);
          border-bottom: 1px solid var(--border-light);
        }
        .contacts-table th {
          text-align: left;
          padding: 12px 16px;
          font-size: 12px;
          font-weight: 600;
          color: var(--text-secondary);
          border-bottom: 1px solid var(--border-light);
        }
        .contacts-table tbody tr {
          border-bottom: 1px solid var(--border-light);
          cursor: pointer;
          transition: background 150ms;
        }
        .contacts-table tbody tr:hover { background: var(--bg-hover); }
        .contacts-table td {
          padding: 12px 16px;
          font-size: 14px;
          color: var(--text-primary);
        }
        .contact-name-cell {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        .contact-avatar-small {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: var(--bg-page);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: 600;
          flex-shrink: 0;
        }
        .email-verified { color: var(--bonsai-green); margin-left: 4px; }
        .text-secondary { color: var(--text-secondary); }
        .text-tertiary { color: var(--text-tertiary); }

        /* Contact Detail Page */
        .detail-page { display: flex; flex-direction: column; height: 100%; }
        .detail-topbar {
          height: 60px;
          background: var(--bg-white);
          border-bottom: 1px solid var(--border-light);
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 0 24px;
        }
        .detail-content { flex: 1; overflow: hidden; display: flex; }
        .detail-main { flex: 1; overflow: auto; background: var(--bg-white); }
        .detail-sidebar-right {
          width: 320px;
          background: var(--bg-white);
          border-left: 1px solid var(--border-light);
          overflow: auto;
          padding: 24px;
        }

        /* Contact Header */
        .contact-header-section {
          padding: 32px 32px 0;
          border-bottom: 1px solid var(--border-light);
        }
        .contact-header-info {
          display: flex;
          align-items: flex-start;
          gap: 16px;
          margin-bottom: 24px;
        }
        .contact-avatar-large {
          width: 48px;
          height: 48px;
          border-radius: 50%;
          background: var(--bg-page);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 16px;
          font-weight: 600;
          flex-shrink: 0;
        }
        .contact-info-text h1 {
          font-size: 20px;
          font-weight: 600;
          margin-bottom: 2px;
        }
        .contact-info-text p {
          font-size: 13px;
          color: var(--text-secondary);
        }
        .contact-actions {
          display: flex;
          gap: 8px;
          margin-bottom: 24px;
        }
        .btn-default {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 14px;
          border: 1px solid var(--border-light);
          border-radius: 6px;
          background: white;
          font-size: 14px;
          color: var(--text-primary);
          cursor: pointer;
        }
        .btn-default:hover { background: var(--bg-hover); }

        /* Tabs */
        .tabs-container {
          display: flex;
          gap: 32px;
          padding: 0 32px 0 2px;
        }
        .tab {
          padding: 12px 0;
          font-size: 14px;
          font-weight: 500;
          color: var(--text-secondary);
          border-bottom: 2px solid transparent;
          cursor: pointer;
          position: relative;
        }
        .tab:hover { color: var(--text-primary); }
        .tab.active {
          color: var(--bonsai-green);
          border-bottom-color: var(--bonsai-green);
        }

        /* Activity Feed */
        .activity-container { padding: 32px; }
        .activity-section { margin-bottom: 48px; }
        .group:hover .group-hover-visible { opacity: 1 !important; }
        .section-title {
          font-size: 16px;
          font-weight: 600;
          margin-bottom: 16px;
          color: var(--text-primary);
        }

        /* Timeline */
        .activity-timeline { position: relative; }
        .timeline-item {
          display: flex;
          gap: 12px;
          margin-bottom: 20px;
          position: relative;
        }
        .timeline-item::before {
          content: '';
          position: absolute;
          left: 11px;
          top: 28px;
          bottom: -20px;
          width: 1px;
          background: var(--border-light);
        }
        .timeline-item:last-child::before { display: none; }
        .timeline-icon {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: var(--bg-page);
          border: 2px solid var(--bg-white);
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          position: relative;
          z-index: 1;
        }
        .timeline-icon svg {
          width: 14px;
          height: 14px;
        }
        .timeline-content { flex: 1; min-width: 0; }
        .timeline-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          margin-bottom: 8px;
          gap: 8px;
        }
        .timeline-title {
          font-size: 13px;
          color: var(--text-primary);
          display: flex;
          align-items: center;
          gap: 6px;
          flex-wrap: wrap;
        }
        .timeline-date {
          font-size: 12px;
          color: var(--text-secondary);
          white-space: nowrap;
          margin-left: auto;
        }
        .timeline-body {
          background: var(--bg-white);
          border: 1px solid var(--border-light);
          border-radius: 8px;
          padding: 12px 16px;
          font-size: 13px;
          line-height: 1.5;
        }
        .timeline-card {
          background: var(--bg-white);
          border: 1px solid var(--border-light);
          border-radius: 8px;
          padding: 12px 16px;
          margin-top: 8px;
        }
        .card-header {
          display: flex;
          align-items: flex-start;
          justify-content: space-between;
          gap: 12px;
        }
        .card-content {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        .card-icon {
          width: 16px;
          height: 16px;
          flex-shrink: 0;
        }
        .card-title {
          font-size: 14px;
          font-weight: 500;
          color: var(--text-primary);
          margin-bottom: 4px;
        }
        .card-meta {
          font-size: 12px;
          color: var(--text-secondary);
          margin-top: 4px;
        }
        .card-amount {
          font-size: 14px;
          font-weight: 600;
          color: var(--text-primary);
          margin-left: auto;
        }
        .document-link {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        .document-info { flex: 1; }
        .document-title {
          font-size: 14px;
          font-weight: 500;
          margin-bottom: 2px;
        }
        .document-amount {
          font-size: 14px;
          font-weight: 600;
          color: var(--text-primary);
        }

        /* Meeting Card */
        .meeting-card {
          background: var(--bg-page);
          border: 1px solid var(--border-light);
          border-radius: 8px;
          padding: 16px;
          margin-bottom: 12px;
          display: flex;
          align-items: center;
          justify-content: space-between;
        }
        .meeting-info-section {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          flex: 1;
        }
        .meeting-icon-box {
          width: 32px;
          height: 32px;
          background: #e3f2fd;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }
        .meeting-details { flex: 1; }
        .meeting-title {
          font-size: 14px;
          font-weight: 600;
          margin-bottom: 4px;
        }
        .meeting-meta {
          font-size: 12px;
          color: var(--text-secondary);
        }
        .btn-join {
          padding: 6px 14px;
          background: var(--bonsai-green);
          color: white;
          border: none;
          border-radius: 6px;
          font-size: 13px;
          font-weight: 500;
          cursor: pointer;
        }

        /* Properties Sidebar */
        .properties-section {
          margin-bottom: 24px;
        }
        .properties-title {
          font-size: 14px;
          font-weight: 600;
          margin-bottom: 16px;
        }
        .properties-grid {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }
        .property-item {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }
        .property-label {
          font-size: 11px;
          font-weight: 600;
          color: var(--text-tertiary);
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        .property-value {
          font-size: 13px;
          color: var(--text-primary);
          line-height: 1.4;
        }
        .company-item {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px;
          background: var(--bg-page);
          border: 1px solid var(--border-light);
          border-radius: 8px;
        }
        .company-avatar {
          width: 40px;
          height: 40px;
          border-radius: 6px;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 700;
          font-size: 14px;
          flex-shrink: 0;
        }
        .company-info { flex: 1; }
        .company-name {
          font-size: 14px;
          font-weight: 600;
          margin-bottom: 4px;
        }
        .badge {
          display: inline-block;
          padding: 2px 8px;
          background: #e3f2fd;
          color: #1976d2;
          border-radius: 4px;
          font-size: 11px;
          font-weight: 500;
        }

        /* Icons */
        .w-4 { width: 16px; height: 16px; }
        .w-5 { width: 20px; height: 20px; }
        .w-6 { width: 24px; height: 24px; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useRef, useEffect } = React;

      // DATA
      const contacts = [
        { id: 1, name: "Michael Fawler", initials: "MF", avatar: "https://randomuser.me/api/portraits/men/1.jpg", role: "Senior Manager of Consulting", company: "Adobe", companyInitials: "A", companyColor: "#EB1000", email: "michael.fawler@adobe.com", phone: "+1 (415) 789-2341", birthday: "March 16, 1985", region: "North America - West Coast", comments: "Key stakeholder for Adobe's Q1 marketing initiatives. Prefers morning meetings.", verified: true },
        { id: 2, name: "Sarah Chen", initials: "SC", avatar: "https://randomuser.me/api/portraits/women/2.jpg", role: "VP of Product", company: "Salesforce", companyInitials: "S", companyColor: "#00A1E0", email: "sarah.chen@salesforce.com", phone: "+1 (628) 555-0198", birthday: "July 22, 1988", region: "North America - West Coast", comments: "Decision maker for enterprise software.", verified: true },
        { id: 3, name: "David Rodriguez", initials: "DR", role: "Creative Director", company: "Netflix", companyInitials: "N", companyColor: "#E50914", email: "d.rodriguez@netflix.com", phone: "+1 (323) 555-0142", birthday: "November 8, 1983", region: "North America - West Coast", comments: "Works on brand campaigns.", verified: true },
        { id: 4, name: "Emily Watson", initials: "EW", avatar: "https://randomuser.me/api/portraits/women/4.jpg", role: "Head of Marketing", company: "Shopify", companyInitials: "S", companyColor: "#7AB55C", email: "emily.watson@shopify.com", phone: "+1 (613) 555-0176", birthday: "April 12, 1990", region: "North America - East Coast", comments: "Fast decision maker.", verified: true },
        { id: 5, name: "James Mitchell", initials: "JM", role: "CTO", company: "Stripe", companyInitials: "S", companyColor: "#635BFF", email: "james.mitchell@stripe.com", phone: "+1 (650) 555-0134", birthday: "September 3, 1986", region: "North America - West Coast", comments: "Technical stakeholder.", verified: true },
        { id: 6, name: "Amanda Foster", initials: "AF", avatar: "https://randomuser.me/api/portraits/women/6.jpg", role: "Senior Product Manager", company: "Figma", companyInitials: "F", companyColor: "#000000", email: "amanda.foster@figma.com", phone: "+1 (415) 555-0189", birthday: "January 28, 1991", region: "North America - West Coast", comments: "Design-focused.", verified: true },
        { id: 7, name: "Robert Kim", initials: "RK", avatar: "https://randomuser.me/api/portraits/men/7.jpg", role: "VP of Sales", company: "HubSpot", companyInitials: "H", companyColor: "#FF7A59", email: "robert.kim@hubspot.com", phone: "+1 (857) 555-0145", birthday: "May 15, 1984", region: "North America - East Coast", comments: "Sales-driven.", verified: true },
        { id: 8, name: "Jessica Martinez", initials: "JM", role: "Director of Operations", company: "Asana", companyInitials: "A", companyColor: "#F06A6A", email: "jessica.martinez@asana.com", phone: "+1 (415) 555-0167", birthday: "December 7, 1987", region: "North America - West Coast", comments: "Process-oriented.", verified: true },
        { id: 9, name: "Christopher Lee", initials: "CL", avatar: "https://randomuser.me/api/portraits/men/9.jpg", role: "Chief Strategy Officer", company: "Notion", companyInitials: "N", companyColor: "#000000", email: "chris.lee@notion.so", phone: "+1 (628) 555-0123", birthday: "August 19, 1982", region: "North America - West Coast", comments: "Strategic thinker.", verified: true },
        { id: 10, name: "Laura Albany", initials: "LA", avatar: "https://randomuser.me/api/portraits/women/10.jpg", role: "Partnerships Manager", company: "Slack", companyInitials: "S", companyColor: "#4A154B", email: "laura.albany@slack.com", phone: "+1 (415) 555-0190", birthday: "February 24, 1989", region: "North America - West Coast", comments: "Collaborative approach.", verified: true },
        { id: 11, name: "Daniel Thompson", initials: "DT", role: "Finance Director", company: "Zoom", companyInitials: "Z", companyColor: "#2D8CFF", email: "daniel.thompson@zoom.us", phone: "+1 (408) 555-0156", birthday: "June 11, 1985", region: "North America - West Coast", comments: "Budget-conscious.", verified: true },
        { id: 12, name: "Olivia Parker", initials: "OP", role: "Content Marketing Lead", company: "Mailchimp", companyInitials: "M", companyColor: "#FFE01B", email: "olivia.parker@mailchimp.com", phone: "+1 (404) 555-0178", birthday: "October 5, 1992", region: "North America - East Coast", comments: "Content-first mindset.", verified: true }
      ];

      // Helper to get contact by name
      const getContactByName = (name) => contacts.find(c => c.name === name) || {};

      // Actor link component with avatar
      const ActorLink = ({ name }) => {
        const contact = getContactByName(name);
        return (
          <a href="#" className="actor-link" onClick={(e) => e.preventDefault()}>
            {contact.avatar && <img src={contact.avatar} alt={name} className="avatar avatar-sm" />}
            {name}
          </a>
        );
      };

      // Get icon name for activity type based on Bonsai sections
      const getActivityIcon = (type) => {
        if (type.includes('meeting')) return 'video';
        if (type.includes('note')) return 'document';
        if (type.includes('proposal')) return 'proposals';
        if (type.includes('contract')) return 'contracts';
        if (type.includes('invoice')) return 'chart';
        if (type.includes('email')) return 'mail';
        if (type.includes('deal')) return 'deals';
        if (type.includes('portal')) return 'portal';
        if (type.includes('agreement')) return 'contracts';
        if (type.includes('contact')) return 'contacts';
        return 'document';
      };

      const getActivitiesForContact = (id) => {
        const activityTemplates = {
          1: [ // Michael Fawler
            { type: 'meeting_scheduled', title: 'Q2 Planning Session', date: 'Jan 20, 2026', time: '2:00 PM', attendees: 4, upcoming: true },
            { type: 'meeting_scheduled', title: 'Creative Review', date: 'Jan 22, 2026', time: '10:30 AM', attendees: 3, upcoming: true },
            { type: 'note_added', date: 'Jan 18, 2026', time: '11:15 AM', actor: 'Laura Albany', content: 'Michael confirmed budget approval for Q1 marketing strategy. Moving forward with the $85K proposal.' },
            { type: 'note_added', date: 'Jan 17, 2026', time: '3:45 PM', actor: 'Jason Fraser', content: 'Had an excellent conversation with @Michael about Adobe\'s brand positioning for Q2. He\'s particularly interested in expanding into video marketing and wants to explore TikTok and YouTube strategies.' },
            { type: 'proposal_sent', date: 'Jan 15, 2026', time: '3:30 PM', actor: 'Laura Albany', documentTitle: 'Q1 2026 Marketing Strategy', amount: '$85,000' },
            { type: 'note_added', date: 'Jan 13, 2026', time: '9:20 AM', actor: 'Laura Albany', content: 'Follow-up from budget review meeting: Michael needs final approval from CFO before proceeding. He mentioned timing is tight for Q1 launch - need to move quickly once approved.' },
            { type: 'meeting_ended', title: 'Budget Review', date: 'Jan 12, 2026', time: '2:30 PM', duration: '1h 36min', attendees: 5, hasRecording: true, hasSummary: true, hasTranscript: true },
            { type: 'meeting_ended', title: 'Campaign Planning Workshop', date: 'Dec 8, 2025', time: '1:00 PM', duration: '2h 15min', attendees: 6, hasRecording: true, hasTranscript: false, hasSummary: false },
            { type: 'meeting_ended', title: 'Quarterly Business Review', date: 'Nov 15, 2025', time: '3:00 PM', duration: '1h 45min', attendees: 8, hasRecording: false, hasTranscript: true, hasSummary: false },
            { type: 'contract_signed', date: 'Jan 10, 2026', time: '4:22 PM', actor: 'Michael Fawler', documentTitle: 'Marketing Services Agreement' },
            { type: 'invoice_paid', date: 'Jan 8, 2026', time: '9:15 AM', actor: 'Michael Fawler', amount: '$5,250.00', invoiceNumber: 'INV-2026-001' },
            { type: 'note_added', date: 'Jan 6, 2026', time: '2:10 PM', actor: 'Mateus Nunes', content: 'Michael mentioned during our call that Adobe is restructuring their marketing team. This could mean more opportunities for us, but also potential delays in decision-making. Keep close communication.' },
            { type: 'project_email_received', date: 'Jan 5, 2026', time: '11:42 AM', actor: 'Michael Fawler', to: 'lucas@hellobonsai.com', subject: 'Re: Q1 Campaign Timeline', preview: 'Thanks for the updated timeline. I reviewed it with our team and we have a few thoughts...', fullContent: 'Hi Lucas,\n\nThanks for the updated timeline for the Q1 campaign. I reviewed it with our team during this morning\'s standup and we have a few thoughts to share.\n\nFirst off, the overall structure looks great. We appreciate the phased approach you\'ve outlined, especially breaking it into discovery, creative development, and execution stages. That aligns well with how we typically run campaigns internally at Adobe.\n\nHowever, we do have some concerns about the timeline for the creative development phase. Our stakeholders are pushing for a more aggressive schedule - they\'d like to see initial creative concepts by January 20th rather than the 28th you\'ve proposed. I know this is a tight turnaround, but is there any way we can accelerate that part of the process?\n\nAlso, I wanted to flag that we\'ll need to include our legal team in the review process for any claims or messaging related to product features. This typically adds 3-5 business days to the approval cycle, so we should factor that into the schedule.\n\nOn the positive side, our budget has been approved! We\'re good to proceed with the full $85K scope. The CFO signed off yesterday, so we can move forward without any concerns there.\n\nLet me know your thoughts on adjusting the timeline. Happy to hop on a call this week if that would be helpful to discuss in more detail.\n\nBest,\nMichael' },
            { type: 'project_email_sent', date: 'Jan 3, 2026', time: '9:15 AM', actor: 'Laura Albany', to: 'michael.fawler@adobe.com', subject: 'Q1 Campaign Timeline & Next Steps', preview: 'Happy New Year! Attached is the detailed timeline for the Q1 marketing campaign...', fullContent: 'Hi Michael,\n\nHappy New Year! I hope you had a wonderful holiday break.\n\nI wanted to follow up on our conversation from December about the Q1 marketing campaign. Attached is the detailed timeline and project plan we discussed. Here\'s a quick overview:\n\n**Timeline Overview:**\n- Week 1 (Jan 6-10): Discovery & research phase\n- Week 2-3 (Jan 13-24): Creative concept development\n- Week 4 (Jan 27-31): Internal stakeholder review\n- Week 5-6 (Feb 3-14): Revisions and finalization\n- Week 7-8 (Feb 17-28): Campaign execution and launch\n\n**Key Deliverables:**\n1. Brand positioning analysis\n2. Target audience research and personas\n3. Creative concepts (3 directions)\n4. Final campaign materials\n5. Launch plan and measurement framework\n\n**Team Structure:**\nWe\'ve assembled a strong team for this project:\n- Laura Albany (Project Lead)\n- Jason Fraser (Creative Director)\n- Mateus Nunes (Strategy)\n- Blake Monroe (Design)\n\n**Budget Allocation:**\nThe $85K budget will be allocated as follows:\n- Strategy & Research: $15K\n- Creative Development: $35K\n- Production: $25K\n- Project Management: $10K\n\nI\'ve also included a risks and mitigation strategies document. The main risks we\'ve identified are timeline compression if approvals take longer than expected, and potential scope creep as stakeholders see the work evolve.\n\nCould you review and let me know if this aligns with your expectations? I\'d love to schedule a kickoff call for next week once you\'re back in the office.\n\nLooking forward to making this campaign a huge success!\n\nBest,\nLaura' },
            { type: 'project_email_received', date: 'Dec 22, 2025', time: '3:30 PM', actor: 'Michael Fawler', to: 'laura@hellobonsai.com', subject: 'Re: Holiday Plans & Q1 Kickoff', preview: 'Thanks for checking in! I\'ll be out until Jan 2nd but wanted to respond before I head out...', fullContent: 'Hi Laura,\n\nThanks for checking in! I\'ll be out of the office from December 23rd through January 2nd, but I wanted to respond to your email before I head out for the holidays.\n\nI\'m really excited about kicking off the Q1 campaign when we\'re both back. The leadership team here is very bullish on this initiative - it\'s one of our top priorities for the quarter. We\'ve got full executive sponsorship, which should help us move quickly through approvals.\n\nA few things to keep in mind as you\'re planning:\n\n1. **Timeline**: We need to launch by March 1st at the absolute latest. There\'s a big industry event (Adobe MAX) in mid-March and we want this campaign running before then to maximize impact.\n\n2. **Audience**: Our primary target is creative professionals aged 25-45, particularly those in the design and video editing space. Secondary audience is marketing teams at mid-size companies.\n\n3. **Channels**: We\'re thinking primarily digital - social media (Instagram, LinkedIn, YouTube), display ads, and some influencer partnerships. Open to other ideas though!\n\n4. **Competitive Landscape**: Keep in mind we\'re competing heavily with Figma and Canva in this space. We need messaging that really differentiates Adobe\'s end-to-end creative suite.\n\n5. **Brand Guidelines**: I\'ll share our updated brand guidelines in January. We just refreshed them in Q4 so make sure you\'re working from the latest version.\n\nI think we should plan for a kickoff meeting the week of January 6th. Does Tuesday or Wednesday that week work for you? I\'d like to include our VP of Marketing (Sarah) and our Creative Director (Tom) in that conversation.\n\nAlso, I haven\'t forgotten about getting you the signed contract - that\'s on my list to finalize before end of year. Our legal team is just doing their final review.\n\nHave a wonderful holiday! Looking forward to collaborating in 2026.\n\nCheers,\nMichael\n\nP.S. - If anything urgent comes up while I\'m out, you can reach my colleague David Rodriguez (cc\'d). He\'ll have context on this project.' },
            { type: 'note_added', date: 'Jan 2, 2026', time: '10:45 AM', actor: 'Laura Albany', content: 'Michael is on vacation until Jan 5th. He asked us to proceed with preliminary creative concepts while he\'s away. Will need his sign-off when he returns before presenting to stakeholders.' },
            { type: 'proposal_accepted', date: 'Dec 28, 2025', time: '2:18 PM', actor: 'Michael Fawler', documentTitle: 'Website Redesign Proposal', amount: '$42,000' },
            { type: 'note_added', date: 'Dec 23, 2025', time: '4:30 PM', actor: 'Blake Monroe', content: 'Great news - Michael loved the website redesign proposal! He specifically called out the mobile-first approach and accessibility features. He wants to use this as a template for other Adobe properties.' },
            { type: 'deal_assigned', date: 'Dec 20, 2025', time: '10:30 AM', actor: 'Laura Albany', dealName: 'Adobe Q1 Marketing', dealValue: '$85,000' },
            { type: 'client_portal_message', date: 'Dec 18, 2025', time: '4:55 PM', actor: 'Michael Fawler', content: 'Just uploaded the brand guidelines!' },
            { type: 'invoice_sent', date: 'Dec 15, 2025', time: '9:00 AM', actor: 'Laura Albany', amount: '$5,250.00', invoiceNumber: 'INV-2026-001' },
            { type: 'note_added', date: 'Dec 13, 2025', time: '11:25 AM', actor: 'Laura Albany', content: 'Spoke with Michael about invoice timing. He confirmed payment will process before end of year. Also discussed extending our contract into 2026 - very positive signals.' },
            { type: 'contract_sent', date: 'Dec 12, 2025', time: '2:15 PM', actor: 'Laura Albany', documentTitle: 'Marketing Services Agreement' },
            { type: 'agreement_signed', date: 'Dec 10, 2025', time: '3:20 PM', actor: 'Michael Fawler', documentTitle: 'SOW - Q1 2026' },
            { type: 'agreement_sent', date: 'Dec 8, 2025', time: '10:00 AM', actor: 'Laura Albany', documentTitle: 'SOW - Q1 2026' },
            { type: 'project_email_sent', date: 'Dec 5, 2025', time: '9:30 AM', actor: 'Laura Albany', to: 'michael.fawler@adobe.com', subject: 'Project Kickoff Details', preview: 'Excited to get started on this project! Here are the key details for our kickoff...', fullContent: 'Hi Michael,\n\nExcited to get started on this project! Now that we have the signed SOW, I wanted to share some key details for our kickoff and set expectations for how we\'ll work together.\n\n**Kickoff Meeting:**\nI\'d like to schedule our kickoff meeting for the week of December 8th. This will be a 90-minute session where we\'ll:\n- Align on project goals and success criteria\n- Review the detailed project plan and timeline\n- Introduce the full team on both sides\n- Establish communication protocols and working norms\n- Identify any risks or dependencies upfront\n\nCould you check your calendar for Tuesday 12/9 at 2pm PT or Wednesday 12/10 at 10am PT? I\'ll send a calendar invite once I hear back.\n\n**Communication Plan:**\nTo keep everyone aligned, here\'s how I propose we structure communication:\n\n1. **Weekly Status Calls** - Every Friday at 3pm PT (30 minutes)\n   - Progress updates\n   - Blockers and risks\n   - Next week\'s priorities\n\n2. **Slack Channel** - I\'ll set up a dedicated project channel\n   - Day-to-day questions and updates\n   - Quick decisions that don\'t require a meeting\n   - File sharing\n\n3. **Email Updates** - I\'ll send a written update every Friday\n   - Summary of week\'s progress\n   - Key milestones hit\n   - Upcoming deliverables\n\n4. **Monthly Business Reviews** - First Tuesday of each month\n   - High-level progress review with stakeholders\n   - Budget and timeline check\n   - Strategic adjustments if needed\n\n**Team Intros:**\nYou\'ll be working primarily with:\n\n- **Laura Albany (me)** - Project Lead and main point of contact\n  - 10+ years in marketing strategy\n  - Previously led campaigns for Fortune 500 brands\n  - Available via Slack during business hours or email anytime\n\n- **Jason Fraser** - Creative Director\n  - Award-winning designer with focus on digital campaigns\n  - Will lead all creative concept development\n  \n- **Mateus Nunes** - Strategy Lead\n  - Former Google Marketing Manager\n  - Data-driven approach to campaign planning\n  \n- **Blake Monroe** - Senior Designer\n  - Specializes in brand identity and visual systems\n  - Will handle production of all creative assets\n\n**Tools & Access:**\nTo work efficiently, we\'ll need:\n- Access to your brand guidelines (you mentioned sharing in January - that works!)\n- Adobe Creative Cloud license for our team (we can use ours if needed)\n- Access to any relevant analytics or performance data\n- Login to your asset management system if you have one\n\n**Next Steps:**\n1. Please review and confirm the kickoff meeting times above\n2. Share any background materials or context docs you think would be helpful\n3. Let me know who from your team should be included in the kickoff (I assume you, Sarah, and Tom?)\n4. Confirm the Slack workspace we should join or let me know if we should create one\n\n**Questions for You:**\n- Are there any Adobe brand or legal review processes we should plan for in our timeline?\n- Do you have preferred file formats for deliverables?\n- Any specific tools or platforms you want us to use?\n\nI know you\'re heading into vacation soon, so no rush on responses. We can finalize everything when you\'re back in January.\n\nHave a wonderful holiday break!\n\nBest,\nLaura' },
            { type: 'client_portal_accepted', date: 'Dec 1, 2025', time: '4:10 PM', actor: 'Michael Fawler' },
            { type: 'contact_updated', date: 'Nov 20, 2025', time: '3:20 PM', actor: 'Laura Albany', field: 'Job Title', change: 'Manager → Senior Manager' },
            { type: 'contact_created_manual', date: 'Nov 5, 2025', time: '2:15 PM', actor: 'Laura Albany' }
          ],
          2: [ // Sarah Chen
            { type: 'meeting_scheduled', title: 'Product Strategy Review', date: 'Jan 21, 2026', time: '3:00 PM', attendees: 5, upcoming: true },
            { type: 'client_portal_message', date: 'Jan 19, 2026', time: '10:22 AM', actor: 'Sarah Chen', content: 'Can we reschedule our next sync to Thursday?' },
            { type: 'note_added', date: 'Jan 17, 2026', time: '1:30 PM', actor: 'Alex Bennett', content: '@Sarah shared some really insightful feedback on our product roadmap. She wants to prioritize mobile app features over web in Q1. Her team at Google has done extensive research showing 78% of their users prefer mobile-first experiences.' },
            { type: 'invoice_paid', date: 'Jan 16, 2026', time: '2:45 PM', actor: 'Sarah Chen', amount: '$12,500.00', invoiceNumber: 'INV-2026-045' },
            { type: 'note_added', date: 'Jan 15, 2026', time: '10:15 AM', actor: 'Laura Albany', content: 'Quick call with Sarah about timeline adjustments. She needs the UX research phase completed by end of Feb due to internal product launch deadline in March. Will need to bring in additional resources.' },
            { type: 'meeting_ended', title: 'Discovery Call', date: 'Jan 14, 2026', time: '11:00 AM', duration: '45min', attendees: 3, hasRecording: true, hasSummary: true, hasTranscript: false },
            { type: 'meeting_ended', title: 'Product Requirements Review', date: 'Dec 10, 2025', time: '2:30 PM', duration: '1h 20min', attendees: 4, hasRecording: true, hasTranscript: true, hasSummary: true },
            { type: 'meeting_ended', title: 'Stakeholder Alignment Call', date: 'Nov 28, 2025', time: '10:00 AM', duration: '55min', attendees: 5, hasRecording: false, hasTranscript: true, hasSummary: false },
            { type: 'proposal_accepted', date: 'Jan 10, 2026', time: '9:15 AM', actor: 'Sarah Chen', documentTitle: 'Product Roadmap Consultation', amount: '$25,000' },
            { type: 'note_added', date: 'Jan 8, 2026', time: '4:30 PM', actor: 'Laura Albany', content: 'Sarah is interested in expanding the scope to include UX research. She mentioned Google is investing heavily in user research for their cloud products and wants us to lead similar initiatives for Salesforce.' },
            { type: 'contract_signed', date: 'Jan 5, 2026', time: '1:20 PM', actor: 'Sarah Chen', documentTitle: 'Consulting Services Agreement' },
            { type: 'invoice_sent', date: 'Jan 2, 2026', time: '10:00 AM', actor: 'Laura Albany', amount: '$12,500.00', invoiceNumber: 'INV-2026-045' },
            { type: 'note_added', date: 'Dec 30, 2025', time: '3:20 PM', actor: 'Jason Fraser', content: 'Sarah provided detailed requirements doc for product strategy work. Very thorough and well-organized. She\'s clearly done her homework and knows exactly what she wants to achieve.' },
            { type: 'project_email_received', date: 'Dec 28, 2025', time: '3:45 PM', actor: 'Sarah Chen', to: 'laura@hellobonsai.com', subject: 'Q1 Priorities', preview: 'We need to focus on mobile experience improvements and rethink our desktop strategy...', fullContent: 'Hi Laura,\n\nI wanted to reach out and share some thoughts on our Q1 priorities after reviewing the initial consultation materials you sent over.\n\nFirst, I think we need to focus heavily on mobile experience improvements. Our analytics show that 68% of our users are accessing the platform primarily on mobile devices, yet our mobile experience feels like an afterthought compared to desktop. This is a major pain point that keeps coming up in user research.\n\nSpecifically, I\'d like us to tackle:\n\n1. **Navigation redesign** - The current hamburger menu is too deeply nested. Users are getting lost trying to find basic features. We should explore a bottom tab bar or some other mobile-native pattern.\n\n2. **Performance optimization** - Load times on mobile are averaging 4.2 seconds, which is way too slow. We\'re losing users before they even see the first screen. Need to investigate what\'s causing the delays.\n\n3. **Touch interactions** - Too many buttons are too small to tap comfortably. We need to audit all interactive elements and ensure they meet minimum touch target sizes (44x44px).\n\n4. **Offline functionality** - Users in areas with poor connectivity are having a terrible experience. Can we implement some level of offline capability, at least for viewing previously loaded content?\n\nSecondly, I think we need to rethink our desktop strategy. Not abandon it, but be more realistic about where we invest resources. Desktop usage is declining year-over-year, and while our enterprise customers still prefer desktop for certain workflows, we might be over-indexing on desktop features at the expense of mobile.\n\nI\'d also love to explore some AI/ML opportunities for personalization. Google has had great success with predictive features, and I think we could do something similar with Salesforce data. Imagine if we could surface the most relevant contacts or opportunities based on a user\'s behavior patterns.\n\nOne more thing - I noticed in the proposal that the timeline extends into March. Our product launch is scheduled for March 15th, which is a hard deadline from executive leadership. We need to make sure the UX research phase wraps up by end of February so we have time to implement changes before launch. Is there any way to compress the timeline?\n\nLet me know your thoughts! I\'m really excited about this project and think we can make a huge impact on our product experience.\n\nBest,\nSarah' },
            { type: 'deal_assigned', date: 'Dec 22, 2025', time: '11:30 AM', actor: 'Laura Albany', dealName: 'Salesforce Product Strategy', dealValue: '$50,000' },
            { type: 'note_added', date: 'Dec 19, 2025', time: '2:45 PM', actor: 'Laura Albany', content: 'Initial meeting with Sarah went extremely well. She\'s very strategic in her thinking and has a clear vision for the product direction. Mentioned potential for ongoing quarterly engagements if this project goes well.' },
            { type: 'proposal_sent', date: 'Dec 18, 2025', time: '2:00 PM', actor: 'Laura Albany', documentTitle: 'Product Roadmap Consultation', amount: '$25,000' },
            { type: 'contract_sent', date: 'Dec 12, 2025', time: '9:45 AM', actor: 'Laura Albany', documentTitle: 'Consulting Services Agreement' },
            { type: 'project_email_sent', date: 'Dec 10, 2025', time: '11:00 AM', actor: 'Laura Albany', to: 'sarah.chen@google.com', subject: 'Next Steps', preview: 'Thanks for the great conversation yesterday. I wanted to follow up with a detailed plan...', fullContent: 'Hi Sarah,\n\nThanks for the great conversation yesterday! It was wonderful to learn more about Google\'s product strategy initiatives and how we might be able to support your team at Salesforce.\n\nI wanted to follow up with a detailed plan for how we could structure this engagement. Based on our discussion, here\'s what I\'m thinking:\n\n**Phase 1: Discovery & Assessment (Weeks 1-2)**\n- Stakeholder interviews with your product, engineering, and design teams\n- Current state analysis of your product roadmap and planning process\n- Competitive benchmarking against similar B2B SaaS products\n- User research synthesis to identify key pain points\n\nDeliverables:\n- Stakeholder interview summary\n- Current state assessment report\n- Competitive analysis presentation\n\n**Phase 2: Strategy Development (Weeks 3-4)**\n- Product vision and positioning workshop\n- Feature prioritization framework\n- Roadmap development for Q1-Q2 2026\n- Success metrics and KPI definition\n\nDeliverables:\n- Product strategy document\n- Prioritized feature roadmap\n- Measurement framework\n\n**Phase 3: Execution Planning (Weeks 5-6)**\n- Go-to-market planning\n- Resource allocation recommendations\n- Risk assessment and mitigation strategies\n- Implementation roadmap with timeline\n\nDeliverables:\n- Go-to-market plan\n- Resource plan and budget recommendations\n- Risk register\n- Detailed implementation timeline\n\n**Investment:**\nBased on the scope we discussed, I estimate this would be a $25,000 engagement. This includes:\n- 100 hours of consulting time across all three phases\n- All deliverables and documentation\n- Up to 2 follow-up sessions post-engagement\n\n**Timeline:**\nIf we kick off the week of December 15th, we\'d wrap up by end of January, which would give you plenty of time to implement recommendations before your March product launch.\n\n**Team:**\nI\'d personally lead this engagement, with support from:\n- Jason Fraser (Product Strategy)\n- Alex Bennett (UX Research)\n- Mateus Nunes (Market Analysis)\n\nWe bring deep experience in B2B SaaS product strategy, having worked with companies like Adobe, Shopify, and Stripe on similar initiatives.\n\nI\'ve attached a more detailed proposal document that includes case studies, testimonials, and our methodology in more depth.\n\nDoes this approach resonate with what you\'re looking for? I\'d love to schedule a follow-up call to discuss any questions and refine the scope if needed.\n\nLooking forward to potentially working together!\n\nBest,\nLaura\n\nP.S. - I\'ll send over the NDA you requested by end of day tomorrow.' },
            { type: 'agreement_signed', date: 'Dec 5, 2025', time: '3:30 PM', actor: 'Sarah Chen', documentTitle: 'NDA' },
            { type: 'agreement_sent', date: 'Dec 1, 2025', time: '10:15 AM', actor: 'Laura Albany', documentTitle: 'NDA' },
            { type: 'client_portal_accepted', date: 'Nov 28, 2025', time: '2:20 PM', actor: 'Sarah Chen' },
            { type: 'contact_updated', date: 'Nov 25, 2025', time: '4:00 PM', actor: 'Laura Albany', field: 'Region', change: 'West Coast → North America - West Coast' },
            { type: 'contact_created_manual', date: 'Nov 20, 2025', time: '1:45 PM', actor: 'Laura Albany' }
          ],
          3: [ // David Rodriguez
            { type: 'meeting_scheduled', title: 'Brand Campaign Review', date: 'Jan 23, 2026', time: '1:00 PM', attendees: 4, upcoming: true },
            { type: 'proposal_sent', date: 'Jan 17, 2026', time: '11:30 AM', actor: 'Laura Albany', documentTitle: 'Brand Identity Refresh', amount: '$45,000' },
            { type: 'note_added', date: 'Jan 15, 2026', time: '3:15 PM', actor: 'Laura Albany', content: 'David wants to see mood boards before committing to the full project.' },
            { type: 'meeting_ended', title: 'Creative Briefing', date: 'Jan 13, 2026', time: '10:00 AM', duration: '1h 15min', attendees: 4 },
            { type: 'project_email_received', date: 'Jan 10, 2026', time: '9:20 AM', actor: 'David Rodriguez', subject: 'Brand Guidelines', preview: 'Attached are our current brand guidelines for reference...' },
            { type: 'invoice_paid', date: 'Jan 7, 2026', time: '11:45 AM', actor: 'David Rodriguez', amount: '$8,750.00', invoiceNumber: 'INV-2026-023' },
            { type: 'contract_signed', date: 'Jan 3, 2026', time: '2:30 PM', actor: 'David Rodriguez', documentTitle: 'Creative Services Agreement' },
            { type: 'deal_assigned', date: 'Dec 30, 2025', time: '4:00 PM', actor: 'Laura Albany', dealName: 'Netflix Brand Refresh', dealValue: '$65,000' },
            { type: 'client_portal_message', date: 'Dec 27, 2025', time: '10:50 AM', actor: 'David Rodriguez', content: 'I uploaded the latest campaign performance data to the portal.' },
            { type: 'proposal_accepted', date: 'Dec 23, 2025', time: '3:40 PM', actor: 'David Rodriguez', documentTitle: 'Campaign Strategy Doc', amount: '$20,000' },
            { type: 'invoice_sent', date: 'Dec 20, 2025', time: '9:00 AM', actor: 'Laura Albany', amount: '$8,750.00', invoiceNumber: 'INV-2026-023' },
            { type: 'agreement_signed', date: 'Dec 15, 2025', time: '1:15 PM', actor: 'David Rodriguez', documentTitle: 'Project Scope Agreement' },
            { type: 'project_email_sent', date: 'Dec 12, 2025', time: '2:45 PM', actor: 'Laura Albany', subject: 'Proposal Follow-up', preview: 'Wanted to check if you had any questions about the proposal...' },
            { type: 'contract_sent', date: 'Dec 8, 2025', time: '11:20 AM', actor: 'Laura Albany', documentTitle: 'Creative Services Agreement' },
            { type: 'agreement_sent', date: 'Dec 5, 2025', time: '10:30 AM', actor: 'Laura Albany', documentTitle: 'Project Scope Agreement' },
            { type: 'client_portal_accepted', date: 'Dec 1, 2025', time: '3:25 PM', actor: 'David Rodriguez' },
            { type: 'contact_updated', date: 'Nov 28, 2025', time: '9:40 AM', actor: 'Laura Albany', field: 'Company', change: 'Netflix Inc → Netflix' },
            { type: 'contact_created_automated', date: 'Nov 22, 2025', time: '5:30 PM', actor: 'System', source: 'Form submission' }
          ],
          4: [ // Emily Watson
            { type: 'meeting_scheduled', title: 'Growth Strategy Session', date: 'Jan 24, 2026', time: '10:00 AM', attendees: 3, upcoming: true },
            { type: 'invoice_sent', date: 'Jan 19, 2026', time: '8:30 AM', actor: 'Laura Albany', amount: '$15,000.00', invoiceNumber: 'INV-2026-078' },
            { type: 'contract_signed', date: 'Jan 16, 2026', time: '11:20 AM', actor: 'Emily Watson', documentTitle: 'Marketing Consulting Agreement' },
            { type: 'meeting_ended', title: 'Kickoff Meeting', date: 'Jan 14, 2026', time: '2:00 PM', duration: '1h', attendees: 5 },
            { type: 'note_added', date: 'Jan 11, 2026', time: '3:50 PM', actor: 'Laura Albany', content: 'Emily is looking to launch 3 new campaigns in Q1. Tight timeline but doable.' },
            { type: 'proposal_accepted', date: 'Jan 9, 2026', time: '1:35 PM', actor: 'Emily Watson', documentTitle: 'Q1 Marketing Strategy', amount: '$30,000' },
            { type: 'project_email_received', date: 'Jan 6, 2026', time: '10:15 AM', actor: 'Emily Watson', subject: 'Campaign Ideas', preview: 'I have some initial ideas for the Q1 campaigns...' },
            { type: 'deal_assigned', date: 'Jan 2, 2026', time: '9:00 AM', actor: 'Laura Albany', dealName: 'Shopify Growth Marketing', dealValue: '$45,000' },
            { type: 'client_portal_message', date: 'Dec 29, 2025', time: '11:30 AM', actor: 'Emily Watson', content: 'Quick question about the timeline - can we move faster on phase 1?' },
            { type: 'proposal_sent', date: 'Dec 26, 2025', time: '2:15 PM', actor: 'Laura Albany', documentTitle: 'Q1 Marketing Strategy', amount: '$30,000' },
            { type: 'invoice_paid', date: 'Dec 22, 2025', time: '4:20 PM', actor: 'Emily Watson', amount: '$5,000.00', invoiceNumber: 'INV-2025-412' },
            { type: 'agreement_signed', date: 'Dec 18, 2025', time: '9:45 AM', actor: 'Emily Watson', documentTitle: 'Services Agreement Addendum' },
            { type: 'contract_sent', date: 'Dec 15, 2025', time: '11:00 AM', actor: 'Laura Albany', documentTitle: 'Marketing Consulting Agreement' },
            { type: 'project_email_sent', date: 'Dec 12, 2025', time: '10:20 AM', actor: 'Laura Albany', subject: 'Great meeting you!', preview: 'Thanks for taking the time to chat yesterday...' },
            { type: 'agreement_sent', date: 'Dec 8, 2025', time: '3:30 PM', actor: 'Laura Albany', documentTitle: 'Services Agreement Addendum' },
            { type: 'client_portal_accepted', date: 'Dec 5, 2025', time: '2:40 PM', actor: 'Emily Watson' },
            { type: 'contact_updated', date: 'Dec 1, 2025', time: '1:15 PM', actor: 'Laura Albany', field: 'Email', change: 'e.watson@shopify.com → emily.watson@shopify.com' },
            { type: 'contact_created_manual', date: 'Nov 28, 2025', time: '10:30 AM', actor: 'Laura Albany' }
          ],
          5: [ // James Mitchell
            { type: 'meeting_scheduled', title: 'Technical Review', date: 'Jan 25, 2026', time: '9:00 AM', attendees: 6, upcoming: true },
            { type: 'agreement_signed', date: 'Jan 20, 2026', time: '10:30 AM', actor: 'James Mitchell', documentTitle: 'Technical Specifications' },
            { type: 'note_added', date: 'Jan 17, 2026', time: '2:20 PM', actor: 'Laura Albany', content: 'James needs detailed technical architecture docs before proceeding.' },
            { type: 'contract_signed', date: 'Jan 14, 2026', time: '3:45 PM', actor: 'James Mitchell', documentTitle: 'Development Services Agreement' },
            { type: 'meeting_ended', title: 'Architecture Discussion', date: 'Jan 11, 2026', time: '1:30 PM', duration: '2h', attendees: 4 },
            { type: 'project_email_received', date: 'Jan 8, 2026', time: '11:25 AM', actor: 'James Mitchell', subject: 'API Requirements', preview: 'Here are the technical requirements for our API integration...' },
            { type: 'invoice_paid', date: 'Jan 5, 2026', time: '9:50 AM', actor: 'James Mitchell', amount: '$22,500.00', invoiceNumber: 'INV-2026-012' },
            { type: 'proposal_accepted', date: 'Jan 2, 2026', time: '4:10 PM', actor: 'James Mitchell', documentTitle: 'Technical Consulting Services', amount: '$75,000' },
            { type: 'deal_assigned', date: 'Dec 28, 2025', time: '10:15 AM', actor: 'Laura Albany', dealName: 'Stripe Infrastructure Project', dealValue: '$120,000' },
            { type: 'client_portal_message', date: 'Dec 24, 2025', time: '2:35 PM', actor: 'James Mitchell', content: 'I uploaded the current system architecture diagrams.' },
            { type: 'proposal_sent', date: 'Dec 20, 2025', time: '9:30 AM', actor: 'Laura Albany', documentTitle: 'Technical Consulting Services', amount: '$75,000' },
            { type: 'invoice_sent', date: 'Dec 16, 2025', time: '11:45 AM', actor: 'Laura Albany', amount: '$22,500.00', invoiceNumber: 'INV-2026-012' },
            { type: 'agreement_sent', date: 'Dec 12, 2025', time: '3:20 PM', actor: 'Laura Albany', documentTitle: 'Technical Specifications' },
            { type: 'project_email_sent', date: 'Dec 9, 2025', time: '10:00 AM', actor: 'Laura Albany', subject: 'Technical Proposal', preview: 'Attached is our technical approach for the project...' },
            { type: 'contract_sent', date: 'Dec 5, 2025', time: '2:15 PM', actor: 'Laura Albany', documentTitle: 'Development Services Agreement' },
            { type: 'client_portal_accepted', date: 'Dec 1, 2025', time: '11:20 AM', actor: 'James Mitchell' },
            { type: 'contact_updated', date: 'Nov 27, 2025', time: '3:40 PM', actor: 'Laura Albany', field: 'Job Title', change: 'VP Engineering → CTO' },
            { type: 'contact_created_automated', date: 'Nov 15, 2025', time: '4:55 PM', actor: 'System', source: 'Email sync' }
          ],
          6: [ // Amanda Foster
            { type: 'meeting_scheduled', title: 'Design Systems Workshop', date: 'Jan 26, 2026', time: '11:00 AM', attendees: 4, upcoming: true },
            { type: 'client_portal_message', date: 'Jan 21, 2026', time: '9:15 AM', actor: 'Amanda Foster', content: 'Love the latest design iterations! Can we discuss implementation?' },
            { type: 'proposal_accepted', date: 'Jan 18, 2026', time: '2:50 PM', actor: 'Amanda Foster', documentTitle: 'Design System Audit', amount: '$18,000' },
            { type: 'meeting_ended', title: 'Design Review', date: 'Jan 15, 2026', time: '3:00 PM', duration: '1h 30min', attendees: 5 },
            { type: 'note_added', date: 'Jan 12, 2026', time: '11:40 AM', actor: 'Laura Albany', content: 'Amanda is very detail-oriented. She appreciates thorough documentation.' },
            { type: 'invoice_paid', date: 'Jan 9, 2026', time: '10:25 AM', actor: 'Amanda Foster', amount: '$6,500.00', invoiceNumber: 'INV-2026-034' },
            { type: 'contract_signed', date: 'Jan 6, 2026', time: '1:15 PM', actor: 'Amanda Foster', documentTitle: 'Design Consulting Agreement' },
            { type: 'project_email_received', date: 'Jan 3, 2026', time: '4:30 PM', actor: 'Amanda Foster', subject: 'Component Library Feedback', preview: 'The component library looks great, here are a few suggestions...' },
            { type: 'deal_assigned', date: 'Dec 30, 2025', time: '9:45 AM', actor: 'Laura Albany', dealName: 'Figma Design System', dealValue: '$35,000' },
            { type: 'proposal_sent', date: 'Dec 26, 2025', time: '11:20 AM', actor: 'Laura Albany', documentTitle: 'Design System Audit', amount: '$18,000' },
            { type: 'invoice_sent', date: 'Dec 22, 2025', time: '2:00 PM', actor: 'Laura Albany', amount: '$6,500.00', invoiceNumber: 'INV-2026-034' },
            { type: 'agreement_signed', date: 'Dec 18, 2025', time: '10:35 AM', actor: 'Amanda Foster', documentTitle: 'Project SOW' },
            { type: 'contract_sent', date: 'Dec 14, 2025', time: '3:45 PM', actor: 'Laura Albany', documentTitle: 'Design Consulting Agreement' },
            { type: 'project_email_sent', date: 'Dec 10, 2025', time: '9:15 AM', actor: 'Laura Albany', subject: 'Design Consultation Proposal', preview: 'Following up on our conversation about your design system...' },
            { type: 'agreement_sent', date: 'Dec 6, 2025', time: '11:50 AM', actor: 'Laura Albany', documentTitle: 'Project SOW' },
            { type: 'client_portal_accepted', date: 'Dec 2, 2025', time: '2:25 PM', actor: 'Amanda Foster' },
            { type: 'contact_updated', date: 'Nov 29, 2025', time: '10:10 AM', actor: 'Laura Albany', field: 'Phone', change: '+1 (415) 555-0000 → +1 (415) 555-0189' },
            { type: 'contact_created_manual', date: 'Nov 18, 2025', time: '3:20 PM', actor: 'Laura Albany' }
          ],
          7: [ // Robert Kim
            { type: 'meeting_scheduled', title: 'Sales Enablement Review', date: 'Jan 27, 2026', time: '2:00 PM', attendees: 5, upcoming: true },
            { type: 'invoice_sent', date: 'Jan 22, 2026', time: '9:00 AM', actor: 'Laura Albany', amount: '$18,750.00', invoiceNumber: 'INV-2026-089' },
            { type: 'contract_signed', date: 'Jan 19, 2026', time: '11:35 AM', actor: 'Robert Kim', documentTitle: 'Sales Consulting Agreement' },
            { type: 'meeting_ended', title: 'Strategy Planning', date: 'Jan 16, 2026', time: '10:00 AM', duration: '1h 45min', attendees: 6 },
            { type: 'note_added', date: 'Jan 13, 2026', time: '3:25 PM', actor: 'Laura Albany', content: 'Robert wants to focus on ROI metrics and clear KPIs for success.' },
            { type: 'proposal_accepted', date: 'Jan 10, 2026', time: '2:40 PM', actor: 'Robert Kim', documentTitle: 'Sales Process Optimization', amount: '$40,000' },
            { type: 'project_email_received', date: 'Jan 7, 2026', time: '9:50 AM', actor: 'Robert Kim', subject: 'Current Sales Metrics', preview: 'Here is our current sales performance data for your review...' },
            { type: 'deal_assigned', date: 'Jan 4, 2026', time: '11:15 AM', actor: 'Laura Albany', dealName: 'HubSpot Sales Optimization', dealValue: '$60,000' },
            { type: 'client_portal_message', date: 'Dec 31, 2025', time: '10:40 AM', actor: 'Robert Kim', content: 'Can we schedule a follow-up for early January?' },
            { type: 'proposal_sent', date: 'Dec 27, 2025', time: '1:30 PM', actor: 'Laura Albany', documentTitle: 'Sales Process Optimization', amount: '$40,000' },
            { type: 'invoice_paid', date: 'Dec 23, 2025', time: '3:15 PM', actor: 'Robert Kim', amount: '$7,500.00', invoiceNumber: 'INV-2025-456' },
            { type: 'agreement_signed', date: 'Dec 19, 2025', time: '9:20 AM', actor: 'Robert Kim', documentTitle: 'Engagement Letter' },
            { type: 'contract_sent', date: 'Dec 15, 2025', time: '2:45 PM', actor: 'Laura Albany', documentTitle: 'Sales Consulting Agreement' },
            { type: 'project_email_sent', date: 'Dec 11, 2025', time: '10:30 AM', actor: 'Laura Albany', subject: 'Sales Consulting Opportunity', preview: 'It was great connecting at the conference...' },
            { type: 'agreement_sent', date: 'Dec 7, 2025', time: '11:40 AM', actor: 'Laura Albany', documentTitle: 'Engagement Letter' },
            { type: 'client_portal_accepted', date: 'Dec 3, 2025', time: '4:05 PM', actor: 'Robert Kim' },
            { type: 'contact_updated', date: 'Nov 30, 2025', time: '2:50 PM', actor: 'Laura Albany', field: 'Region', change: 'East Coast → North America - East Coast' },
            { type: 'contact_created_automated', date: 'Nov 12, 2025', time: '1:35 PM', actor: 'System', source: 'LinkedIn import' }
          ],
          8: [ // Jessica Martinez
            { type: 'meeting_scheduled', title: 'Operations Review', date: 'Jan 28, 2026', time: '9:30 AM', attendees: 4, upcoming: true },
            { type: 'agreement_signed', date: 'Jan 23, 2026', time: '10:15 AM', actor: 'Jessica Martinez', documentTitle: 'Process Improvement SOW' },
            { type: 'note_added', date: 'Jan 20, 2026', time: '2:35 PM', actor: 'Laura Albany', content: 'Jessica needs clear timelines and detailed project plans for all deliverables.' },
            { type: 'contract_signed', date: 'Jan 17, 2026', time: '11:50 AM', actor: 'Jessica Martinez', documentTitle: 'Operations Consulting Agreement' },
            { type: 'meeting_ended', title: 'Process Mapping Session', date: 'Jan 14, 2026', time: '1:00 PM', duration: '2h 15min', attendees: 7 },
            { type: 'project_email_received', date: 'Jan 11, 2026', time: '3:20 PM', actor: 'Jessica Martinez', subject: 'Current Workflows', preview: 'I documented our current processes as discussed...' },
            { type: 'invoice_paid', date: 'Jan 8, 2026', time: '9:35 AM', actor: 'Jessica Martinez', amount: '$14,250.00', invoiceNumber: 'INV-2026-056' },
            { type: 'proposal_accepted', date: 'Jan 5, 2026', time: '2:10 PM', actor: 'Jessica Martinez', documentTitle: 'Operations Efficiency Audit', amount: '$32,000' },
            { type: 'deal_assigned', date: 'Jan 2, 2026', time: '10:40 AM', actor: 'Laura Albany', dealName: 'Asana Process Optimization', dealValue: '$55,000' },
            { type: 'client_portal_message', date: 'Dec 29, 2025', time: '11:55 AM', actor: 'Jessica Martinez', content: 'Uploaded the workflow diagrams to the portal for your review.' },
            { type: 'proposal_sent', date: 'Dec 25, 2025', time: '3:00 PM', actor: 'Laura Albany', documentTitle: 'Operations Efficiency Audit', amount: '$32,000' },
            { type: 'invoice_sent', date: 'Dec 21, 2025', time: '9:15 AM', actor: 'Laura Albany', amount: '$14,250.00', invoiceNumber: 'INV-2026-056' },
            { type: 'agreement_sent', date: 'Dec 17, 2025', time: '2:30 PM', actor: 'Laura Albany', documentTitle: 'Process Improvement SOW' },
            { type: 'project_email_sent', date: 'Dec 13, 2025', time: '10:45 AM', actor: 'Laura Albany', subject: 'Operations Consulting Proposal', preview: 'Thank you for the detailed overview of your current operations...' },
            { type: 'contract_sent', date: 'Dec 9, 2025', time: '11:20 AM', actor: 'Laura Albany', documentTitle: 'Operations Consulting Agreement' },
            { type: 'client_portal_accepted', date: 'Dec 5, 2025', time: '1:45 PM', actor: 'Jessica Martinez' },
            { type: 'contact_updated', date: 'Dec 1, 2025', time: '3:10 PM', actor: 'Laura Albany', field: 'Birthday', change: 'December 8, 1987 → December 7, 1987' },
            { type: 'contact_created_manual', date: 'Nov 10, 2025', time: '9:50 AM', actor: 'Laura Albany' }
          ],
          9: [ // Christopher Lee
            { type: 'meeting_scheduled', title: 'Strategic Planning Workshop', date: 'Jan 29, 2026', time: '10:00 AM', attendees: 8, upcoming: true },
            { type: 'client_portal_message', date: 'Jan 24, 2026', time: '11:30 AM', actor: 'Christopher Lee', content: 'Excited to dive deeper into the strategic roadmap next week.' },
            { type: 'proposal_accepted', date: 'Jan 21, 2026', time: '3:25 PM', actor: 'Christopher Lee', documentTitle: 'Strategic Advisory Services', amount: '$95,000' },
            { type: 'meeting_ended', title: 'Strategic Assessment', date: 'Jan 18, 2026', time: '2:00 PM', duration: '2h 30min', attendees: 6 },
            { type: 'note_added', date: 'Jan 15, 2026', time: '4:15 PM', actor: 'Laura Albany', content: 'Christopher prefers starting with big picture strategy before diving into details.' },
            { type: 'invoice_paid', date: 'Jan 12, 2026', time: '10:50 AM', actor: 'Christopher Lee', amount: '$28,500.00', invoiceNumber: 'INV-2026-067' },
            { type: 'contract_signed', date: 'Jan 9, 2026', time: '1:40 PM', actor: 'Christopher Lee', documentTitle: 'Strategic Consulting Agreement' },
            { type: 'project_email_received', date: 'Jan 6, 2026', time: '9:05 AM', actor: 'Christopher Lee', subject: 'Company Vision', preview: 'Here is our 3-year vision and current strategic priorities...' },
            { type: 'deal_assigned', date: 'Jan 3, 2026', time: '2:20 PM', actor: 'Laura Albany', dealName: 'Notion Strategic Advisory', dealValue: '$150,000' },
            { type: 'proposal_sent', date: 'Dec 30, 2025', time: '11:45 AM', actor: 'Laura Albany', documentTitle: 'Strategic Advisory Services', amount: '$95,000' },
            { type: 'invoice_sent', date: 'Dec 26, 2025', time: '9:30 AM', actor: 'Laura Albany', amount: '$28,500.00', invoiceNumber: 'INV-2026-067' },
            { type: 'agreement_signed', date: 'Dec 22, 2025', time: '2:15 PM', actor: 'Christopher Lee', documentTitle: 'Master Services Agreement' },
            { type: 'contract_sent', date: 'Dec 18, 2025', time: '10:20 AM', actor: 'Laura Albany', documentTitle: 'Strategic Consulting Agreement' },
            { type: 'project_email_sent', date: 'Dec 14, 2025', time: '3:35 PM', actor: 'Laura Albany', subject: 'Strategic Consulting Opportunity', preview: 'Following our conversation about Notion\'s growth trajectory...' },
            { type: 'agreement_sent', date: 'Dec 10, 2025', time: '11:00 AM', actor: 'Laura Albany', documentTitle: 'Master Services Agreement' },
            { type: 'client_portal_accepted', date: 'Dec 6, 2025', time: '4:30 PM', actor: 'Christopher Lee' },
            { type: 'contact_updated', date: 'Dec 2, 2025', time: '1:25 PM', actor: 'Laura Albany', field: 'Job Title', change: 'VP Strategy → Chief Strategy Officer' },
            { type: 'contact_created_automated', date: 'Nov 8, 2025', time: '2:40 PM', actor: 'System', source: 'Email sync' }
          ],
          10: [ // Laura Albany
            { type: 'meeting_scheduled', title: 'Partnership Review', date: 'Jan 30, 2026', time: '11:00 AM', attendees: 3, upcoming: true },
            { type: 'invoice_sent', date: 'Jan 25, 2026', time: '9:00 AM', actor: 'Laura Albany', amount: '$11,200.00', invoiceNumber: 'INV-2026-101' },
            { type: 'contract_signed', date: 'Jan 22, 2026', time: '2:45 PM', actor: 'Laura Albany', documentTitle: 'Partnership Services Agreement' },
            { type: 'meeting_ended', title: 'Partnership Strategy', date: 'Jan 19, 2026', time: '3:30 PM', duration: '1h 15min', attendees: 4 },
            { type: 'note_added', date: 'Jan 16, 2026', time: '10:20 AM', actor: 'Sarah Chen', content: 'Laura is very collaborative and prefers working closely with teams throughout the project.' },
            { type: 'proposal_accepted', date: 'Jan 13, 2026', time: '1:55 PM', actor: 'Laura Albany', documentTitle: 'Partnership Development Plan', amount: '$28,000' },
            { type: 'project_email_received', date: 'Jan 10, 2026', time: '11:40 AM', actor: 'Laura Albany', subject: 'Partnership Opportunities', preview: 'I identified several potential partnership opportunities for Q1...' },
            { type: 'deal_assigned', date: 'Jan 7, 2026', time: '9:30 AM', actor: 'Sarah Chen', dealName: 'Slack Partnership Strategy', dealValue: '$42,000' },
            { type: 'client_portal_message', date: 'Jan 4, 2026', time: '2:10 PM', actor: 'Laura Albany', content: 'Just shared the partnership roadmap in the portal!' },
            { type: 'proposal_sent', date: 'Dec 31, 2025', time: '10:15 AM', actor: 'Sarah Chen', documentTitle: 'Partnership Development Plan', amount: '$28,000' },
            { type: 'invoice_paid', date: 'Dec 27, 2025', time: '3:45 PM', actor: 'Laura Albany', amount: '$4,500.00', invoiceNumber: 'INV-2025-389' },
            { type: 'agreement_signed', date: 'Dec 23, 2025', time: '11:25 AM', actor: 'Laura Albany', documentTitle: 'Partnership Framework' },
            { type: 'contract_sent', date: 'Dec 19, 2025', time: '9:50 AM', actor: 'Sarah Chen', documentTitle: 'Partnership Services Agreement' },
            { type: 'project_email_sent', date: 'Dec 15, 2025', time: '2:20 PM', actor: 'Sarah Chen', subject: 'Partnership Consulting', preview: 'Great to connect at the Slack partner event...' },
            { type: 'agreement_sent', date: 'Dec 11, 2025', time: '10:35 AM', actor: 'Sarah Chen', documentTitle: 'Partnership Framework' },
            { type: 'client_portal_accepted', date: 'Dec 7, 2025', time: '1:50 PM', actor: 'Laura Albany' },
            { type: 'contact_updated', date: 'Dec 3, 2025', time: '3:15 PM', actor: 'Sarah Chen', field: 'Email', change: 'l.albany@slack.com → laura.albany@slack.com' },
            { type: 'contact_created_manual', date: 'Nov 5, 2025', time: '4:25 PM', actor: 'Sarah Chen' }
          ],
          11: [ // Daniel Thompson
            { type: 'meeting_scheduled', title: 'Budget Review Meeting', date: 'Jan 31, 2026', time: '9:00 AM', attendees: 5, upcoming: true },
            { type: 'agreement_signed', date: 'Jan 26, 2026', time: '11:40 AM', actor: 'Daniel Thompson', documentTitle: 'Financial Analysis SOW' },
            { type: 'note_added', date: 'Jan 23, 2026', time: '3:50 PM', actor: 'Laura Albany', content: 'Daniel is very budget-conscious and needs detailed financial breakdowns for everything.' },
            { type: 'contract_signed', date: 'Jan 20, 2026', time: '10:25 AM', actor: 'Daniel Thompson', documentTitle: 'Financial Consulting Agreement' },
            { type: 'meeting_ended', title: 'Financial Planning Session', date: 'Jan 17, 2026', time: '2:30 PM', duration: '1h 30min', attendees: 4 },
            { type: 'project_email_received', date: 'Jan 14, 2026', time: '9:15 AM', actor: 'Daniel Thompson', subject: 'Budget Constraints', preview: 'Here are our budget parameters for the project...' },
            { type: 'invoice_paid', date: 'Jan 11, 2026', time: '11:55 AM', actor: 'Daniel Thompson', amount: '$16,800.00', invoiceNumber: 'INV-2026-078' },
            { type: 'proposal_accepted', date: 'Jan 8, 2026', time: '2:30 PM', actor: 'Daniel Thompson', documentTitle: 'Financial Systems Audit', amount: '$38,000' },
            { type: 'deal_assigned', date: 'Jan 5, 2026', time: '10:05 AM', actor: 'Laura Albany', dealName: 'Zoom Financial Analysis', dealValue: '$65,000' },
            { type: 'client_portal_message', date: 'Jan 2, 2026', time: '3:25 PM', actor: 'Daniel Thompson', content: 'Uploaded Q4 financial reports for your review.' },
            { type: 'proposal_sent', date: 'Dec 28, 2025', time: '11:30 AM', actor: 'Laura Albany', documentTitle: 'Financial Systems Audit', amount: '$38,000' },
            { type: 'invoice_sent', date: 'Dec 24, 2025', time: '9:00 AM', actor: 'Laura Albany', amount: '$16,800.00', invoiceNumber: 'INV-2026-078' },
            { type: 'agreement_sent', date: 'Dec 20, 2025', time: '2:15 PM', actor: 'Laura Albany', documentTitle: 'Financial Analysis SOW' },
            { type: 'project_email_sent', date: 'Dec 16, 2025', time: '10:40 AM', actor: 'Laura Albany', subject: 'Financial Consulting Proposal', preview: 'Thank you for the detailed overview of your financial systems...' },
            { type: 'contract_sent', date: 'Dec 12, 2025', time: '11:50 AM', actor: 'Laura Albany', documentTitle: 'Financial Consulting Agreement' },
            { type: 'client_portal_accepted', date: 'Dec 8, 2025', time: '3:35 PM', actor: 'Daniel Thompson' },
            { type: 'contact_updated', date: 'Dec 4, 2025', time: '1:20 PM', actor: 'Laura Albany', field: 'Company', change: 'Zoom Video → Zoom' },
            { type: 'contact_created_automated', date: 'Nov 6, 2025', time: '5:10 PM', actor: 'System', source: 'CRM import' }
          ],
          12: [ // Olivia Parker
            { type: 'meeting_scheduled', title: 'Content Strategy Workshop', date: 'Feb 1, 2026', time: '10:30 AM', attendees: 4, upcoming: true },
            { type: 'client_portal_message', date: 'Jan 27, 2026', time: '2:20 PM', actor: 'Olivia Parker', content: 'The content calendar looks fantastic! A few minor tweaks and we\'re good to go.' },
            { type: 'proposal_accepted', date: 'Jan 24, 2026', time: '11:45 AM', actor: 'Olivia Parker', documentTitle: 'Content Marketing Strategy', amount: '$22,500' },
            { type: 'meeting_ended', title: 'Content Planning', date: 'Jan 21, 2026', time: '1:00 PM', duration: '1h 20min', attendees: 5 },
            { type: 'note_added', date: 'Jan 18, 2026', time: '3:35 PM', actor: 'Laura Albany', content: 'Olivia has a strong content-first mindset and values brand storytelling.' },
            { type: 'invoice_paid', date: 'Jan 15, 2026', time: '9:40 AM', actor: 'Olivia Parker', amount: '$9,750.00', invoiceNumber: 'INV-2026-092' },
            { type: 'contract_signed', date: 'Jan 12, 2026', time: '2:15 PM', actor: 'Olivia Parker', documentTitle: 'Content Services Agreement' },
            { type: 'project_email_received', date: 'Jan 9, 2026', time: '10:55 AM', actor: 'Olivia Parker', subject: 'Brand Voice Guidelines', preview: 'Attached are our brand voice and tone guidelines...' },
            { type: 'deal_assigned', date: 'Jan 6, 2026', time: '11:20 AM', actor: 'Laura Albany', dealName: 'Mailchimp Content Strategy', dealValue: '$45,000' },
            { type: 'proposal_sent', date: 'Jan 3, 2026', time: '9:45 AM', actor: 'Laura Albany', documentTitle: 'Content Marketing Strategy', amount: '$22,500' },
            { type: 'invoice_sent', date: 'Dec 29, 2025', time: '2:30 PM', actor: 'Laura Albany', amount: '$9,750.00', invoiceNumber: 'INV-2026-092' },
            { type: 'agreement_signed', date: 'Dec 25, 2025', time: '10:10 AM', actor: 'Olivia Parker', documentTitle: 'Content Production Agreement' },
            { type: 'contract_sent', date: 'Dec 21, 2025', time: '11:25 AM', actor: 'Laura Albany', documentTitle: 'Content Services Agreement' },
            { type: 'project_email_sent', date: 'Dec 17, 2025', time: '3:00 PM', actor: 'Laura Albany', subject: 'Content Marketing Opportunity', preview: 'It was wonderful meeting you at the marketing summit...' },
            { type: 'agreement_sent', date: 'Dec 13, 2025', time: '9:50 AM', actor: 'Laura Albany', documentTitle: 'Content Production Agreement' },
            { type: 'client_portal_accepted', date: 'Dec 9, 2025', time: '2:40 PM', actor: 'Olivia Parker' },
            { type: 'contact_updated', date: 'Dec 5, 2025', time: '11:30 AM', actor: 'Laura Albany', field: 'Region', change: 'East Coast → North America - East Coast' },
            { type: 'contact_created_manual', date: 'Nov 3, 2025', time: '3:45 PM', actor: 'Laura Albany' }
          ]
        };

        return (activityTemplates[id] || []).map((activity, index) => ({
          ...activity,
          id: `act-${id}-${index + 1}`
        }));
      };

      // Icon component
      const Icon = ({ name, className = "w-4" }) => {
        const paths = {
          clients: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z',
          contacts: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z',
          deals: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z',
          estimates: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
          proposals: 'M12 19l9 2-9-18-9 18 9-2zm0 0v-8',
          contracts: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
          forms: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
          scheduling: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
          services: 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',
          portal: 'M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9',
          chart: 'M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z',
          calendar: 'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z',
          document: 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z',
          search: 'M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z',
          filter: 'M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z',
          dots: 'M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z',
          plus: 'M12 4v16m8-8H4',
          video: 'M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z',
          mail: 'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
          phone: 'M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z',
          check: 'M5 13l4 4L19 7',
          settings: 'M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z',
          help: 'M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
          expand: 'M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4',
          bold: 'M6 4h8a4 4 0 014 4 4 4 0 01-4 4H6z M6 12h9a4 4 0 014 4 4 4 0 01-4 4H6z',
          italic: 'M19 4h-9m4 0a15.8 15.8 0 01-4 16m4-16V4m4 0h-4',
          underline: 'M6 4v7a6 6 0 0012 0V4m-7 16h2',
          strikethrough: 'M3 12h18M6 4h12M8 20h8',
          type: 'M4 7V4h16v3M9 20h6M12 4v16',
          link: 'M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71',
          'list-ordered': 'M12 6h9m-9 6h9m-9 6h9M4 6h.01M4 12h.01M4 18h.01M7 6h.01M7 12h.01M7 18h.01',
          list: 'M4 6h16M4 12h16M4 18h16',
          image: 'M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z',
          sparkles: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z',
          'more-horizontal': 'M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z',
          'chevron-down': 'M19 9l-7 7-7-7',
          x: 'M6 18L18 6M6 6l12 12',
          users: 'M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z'
        };
        const path = paths[name] || paths.document;
        return (
          <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d={path} />
          </svg>
        );
      };

      // Sidebar Component
      const Sidebar = () => {
        const [expandedSection, setExpandedSection] = useState('client');

        return (
          <div className="sidebar">
            <div className="sidebar-logo">
              <div className="logo-icon">🌳</div>
              <span className="logo-text">Bonsai</span>
              <Icon name="expand" className="collapse-icon" />
            </div>
            <div className="sidebar-nav">
              <div
                className="nav-section-header"
                onClick={() => setExpandedSection(expandedSection === 'client' ? null : 'client')}
                style={{
                  background: expandedSection === 'client' ? '#e8f5e9' : 'transparent',
                  color: expandedSection === 'client' ? 'var(--bonsai-green)' : 'var(--text-primary)',
                  cursor: 'pointer',
                  padding: '10px 12px',
                  borderRadius: '8px',
                  marginBottom: '4px',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '8px',
                  fontWeight: 500
                }}
              >
                <Icon name="users" className="nav-icon" style={{ color: expandedSection === 'client' ? 'var(--bonsai-green)' : 'inherit' }} />
                Client Management
              </div>
              {expandedSection === 'client' && (
                <>
                  <a className="nav-item" style={{ paddingLeft: '36px' }}><Icon name="clients" className="nav-icon" /> Clients</a>
                  <a className="nav-item active" style={{ paddingLeft: '36px' }}><Icon name="contacts" className="nav-icon" /> Contacts</a>
                  <a className="nav-item" style={{ paddingLeft: '36px' }}><Icon name="deals" className="nav-icon" /> Deals</a>
                  <a className="nav-item" style={{ paddingLeft: '36px' }}><Icon name="services" className="nav-icon" /> Services</a>
                  <a className="nav-item" style={{ paddingLeft: '36px' }}><Icon name="portal" className="nav-icon" /> Client Portal</a>
                </>
              )}
              <div
                className="nav-section-header"
                onClick={() => setExpandedSection(expandedSection === 'project' ? null : 'project')}
                style={{
                  cursor: 'pointer',
                  padding: '10px 12px',
                  borderRadius: '8px',
                  marginBottom: '4px',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '8px',
                  fontWeight: 500,
                  marginTop: '8px'
                }}
              >
                <Icon name="document" className="nav-icon" />
                Project Management
              </div>
              <div
                className="nav-section-header"
                onClick={() => setExpandedSection(expandedSection === 'financial' ? null : 'financial')}
                style={{
                  cursor: 'pointer',
                  padding: '10px 12px',
                  borderRadius: '8px',
                  marginBottom: '4px',
                  display: 'flex',
                  alignItems: 'center',
                  gap: '8px',
                  fontWeight: 500
                }}
              >
                <Icon name="chart" className="nav-icon" />
                Financial Management
              </div>
            </div>
            <div className="sidebar-footer">
              <div className="sidebar-footer-icon">
                <Icon name="expand" className="w-5" />
              </div>
              <div className="sidebar-footer-icon">
                <Icon name="help" className="w-5" />
              </div>
              <div className="sidebar-footer-icon">
                <Icon name="settings" className="w-5" />
              </div>
            </div>
          </div>
        );
      };

      // Contacts Table
      const ContactsTable = ({ contacts, onSelectContact }) => {
        const [searchQuery, setSearchQuery] = useState('');
        const filteredContacts = contacts.filter(c =>
          c.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
          c.email.toLowerCase().includes(searchQuery.toLowerCase()) ||
          c.company.toLowerCase().includes(searchQuery.toLowerCase())
        );

        return (
          <>
            <div className="table-header">
              <div className="search-wrapper">
                <div className="search-icon-wrapper">
                  <Icon name="search" className="search-icon" />
                  <input
                    type="text"
                    className="search-input"
                    placeholder="Search..."
                    value={searchQuery}
                    onChange={(e) => setSearchQuery(e.target.value)}
                  />
                </div>
                <button className="filter-btn">
                  <Icon name="filter" className="w-4" />
                  Filter
                </button>
              </div>
              <button className="btn-primary">New Contact</button>
            </div>
            <table className="contacts-table">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Job Title</th>
                  <th>Company</th>
                  <th>Phone Number</th>
                  <th>Birthday</th>
                  <th>Comments</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                {filteredContacts.map(contact => (
                  <tr key={contact.id} onClick={() => onSelectContact(contact)}>
                    <td>
                      <div className="contact-name-cell">
                        <div className="contact-avatar-small">{contact.initials}</div>
                        <span>{contact.name}</span>
                      </div>
                    </td>
                    <td>
                      <span className="text-secondary">{contact.email}</span>
                      {contact.verified && <span className="email-verified">✓</span>}
                    </td>
                    <td className="text-secondary">{contact.role}</td>
                    <td>{contact.company}</td>
                    <td className="text-secondary">{contact.phone}</td>
                    <td className="text-secondary">{contact.birthday}</td>
                    <td className="text-tertiary">{contact.comments}</td>
                    <td>
                      <button className="icon-btn" onClick={(e) => e.stopPropagation()}>
                        <Icon name="dots" />
                      </button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </>
        );
      };

      // Activity Item Renderer
      const ActivityItem = ({ activity, contact, onEmailClick }) => {
        const renderTitle = () => {
          const actorName = activity.actor;
          const isContact = actorName === contact.name;

          const renderActor = () => {
            if (isContact) {
              const avatarSrc = contact.avatar;
              return (
                <span style={{ display: 'inline-flex', alignItems: 'center', gap: '6px' }}>
                  {avatarSrc && <img src={avatarSrc} alt={actorName} className="avatar avatar-sm" />}
                  {!avatarSrc && <div className="contact-avatar-small">{contact.initials}</div>}
                  <a href="#" className="actor-link" style={{ color: 'var(--bonsai-green)' }} onClick={(e) => e.preventDefault()}>
                    {actorName}
                  </a>
                </span>
              );
            }
            return <ActorLink name={actorName} />;
          };

          switch (activity.type) {
            case 'meeting_ended':
              return `Meeting completed`;
            case 'note_added':
              return <>{renderActor()} added a note</>;
            case 'proposal_sent':
              return <>{renderActor()} sent a proposal</>;
            case 'proposal_accepted':
              return <>{renderActor()} accepted proposal</>;
            case 'contract_sent':
              return <>{renderActor()} sent a contract</>;
            case 'contract_signed':
              return <>{renderActor()} signed the contract for {contact.company}</>;
            case 'invoice_sent':
              return <>{renderActor()} sent an invoice</>;
            case 'invoice_paid':
              return <>{renderActor()} paid ${activity.amount?.replace('$', '')} for invoice #{activity.invoiceNumber}</>;
            case 'project_email_sent':
              return <>{renderActor()} sent an email</>;
            case 'project_email_received':
              return <>{renderActor()} sent an email</>;
            case 'deal_assigned':
              return <>{renderActor()} assigned a deal to {contact.name}</>;
            case 'client_portal_message':
              return <>{renderActor()} sent a message in client portal</>;
            case 'client_portal_accepted':
              return <>{renderActor()} accepted client portal invitation</>;
            case 'agreement_sent':
              return <>{renderActor()} sent an agreement</>;
            case 'agreement_signed':
              return <>{renderActor()} signed an agreement</>;
            case 'contact_updated':
              return <>{renderActor()} updated contact</>;
            case 'contact_created_manual':
              return <>Contact created by {renderActor()}</>;
            case 'contact_created_automated':
              return <>Contact created by {renderActor()}</>;
            default:
              return null;
          }
        };

        const renderBody = () => {
          // Proposal types - show card with document
          if (activity.type === 'proposal_sent' || activity.type === 'proposal_accepted') {
            return (
              <div className="timeline-card">
                <div className="card-header">
                  <div className="card-content">
                    <Icon name="proposals" className="card-icon" />
                    <div style={{ flex: 1 }}>
                      <div className="card-title">{activity.documentTitle}</div>
                    </div>
                  </div>
                  {activity.amount && <div className="card-amount">{activity.amount}</div>}
                </div>
              </div>
            );
          }

          // Contract types - show card with document
          if (activity.type === 'contract_sent' || activity.type === 'contract_signed') {
            return (
              <div className="timeline-card">
                <div className="card-content">
                  <Icon name="contracts" className="card-icon" />
                  <div style={{ flex: 1 }}>
                    <div className="card-title">{activity.documentTitle}</div>
                  </div>
                </div>
              </div>
            );
          }

          // Invoice types - show card with amount
          if (activity.type === 'invoice_sent' || activity.type === 'invoice_paid') {
            return (
              <div className="timeline-card">
                <div className="card-header">
                  <div className="card-content">
                    <Icon name="document" className="card-icon" />
                    <div style={{ flex: 1 }}>
                      <div className="card-title">{contact.company} Invoice #{activity.invoiceNumber}</div>
                    </div>
                  </div>
                  {activity.amount && <div className="card-amount">{activity.amount}</div>}
                </div>
              </div>
            );
          }

          // Meeting ended - show card with details
          if (activity.type === 'meeting_ended') {
            return (
              <div className="timeline-card">
                <div className="card-content">
                  <div style={{ width: '32px', height: '32px', background: '#e3f2fd', borderRadius: '6px', display: 'flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0 }}>
                    <Icon name="video" style={{ color: '#1976d2', width: '16px', height: '16px' }} />
                  </div>
                  <div style={{ flex: 1 }}>
                    <div className="card-title">{activity.title}</div>
                    <div className="card-meta">Meeting — {activity.date} — {activity.time} 👤 {activity.attendees}</div>
                    {activity.hasRecording && (
                      <div style={{ display: 'flex', gap: '12px', marginTop: '8px', fontSize: '12px' }}>
                        <a href="#" style={{ color: 'var(--bonsai-green)', textDecoration: 'none' }}>🎥 Recording</a>
                        {activity.hasSummary && <a href="#" style={{ color: 'var(--bonsai-green)', textDecoration: 'none' }}>📝 Summary</a>}
                        {activity.hasTranscript && <a href="#" style={{ color: 'var(--bonsai-green)', textDecoration: 'none' }}>📄 Transcript</a>}
                      </div>
                    )}
                  </div>
                </div>
              </div>
            );
          }

          // Note or text content
          if (activity.content || activity.preview) {
            const isEmail = activity.type?.includes('email');
            return (
              <div
                className="timeline-body"
                style={{
                  cursor: isEmail ? 'pointer' : 'default',
                  transition: 'all 150ms'
                }}
                onClick={() => isEmail && onEmailClick?.(activity)}
                onMouseOver={(e) => isEmail && (e.currentTarget.style.background = '#f5f5f5')}
                onMouseOut={(e) => isEmail && (e.currentTarget.style.background = 'var(--bg-white)')}
              >
                {activity.subject && <div style={{ fontWeight: 600, marginBottom: '4px' }}>{activity.subject}</div>}
                <div style={{
                  overflow: 'hidden',
                  textOverflow: 'ellipsis',
                  display: '-webkit-box',
                  WebkitLineClamp: 2,
                  WebkitBoxOrient: 'vertical'
                }}>{activity.content || activity.preview}</div>
              </div>
            );
          }

          // Deal or other documents
          if (activity.documentTitle || activity.dealName) {
            return (
              <div className="timeline-card">
                <div className="card-content">
                  <Icon name="document" className="card-icon" />
                  <div style={{ flex: 1 }}>
                    <div className="card-title">{activity.documentTitle || activity.dealName}</div>
                    {(activity.amount || activity.dealValue) && (
                      <div className="card-amount">{activity.amount || activity.dealValue}</div>
                    )}
                  </div>
                </div>
              </div>
            );
          }

          // Property change
          if (activity.change) {
            return (
              <div className="timeline-body">
                Changed <strong>{activity.field}</strong>: {activity.change}
              </div>
            );
          }

          // Source info
          if (activity.source) {
            return (
              <div className="timeline-body">
                Source: {activity.source}
              </div>
            );
          }

          return null;
        };

        return (
          <div className="timeline-item">
            <div className="timeline-icon">
              <Icon name={getActivityIcon(activity.type)} />
            </div>
            <div className="timeline-content">
              <div className="timeline-header">
                <div className="timeline-title">{renderTitle()}</div>
                <div className="timeline-date">{activity.date}, {activity.time}</div>
              </div>
              {renderBody()}
            </div>
          </div>
        );
      };

      // Note Editor Component
      const NoteEditor = ({ onSubmit, onCancel, initialValue = '' }) => {
        const [content, setContent] = useState(initialValue);
        const [showMentions, setShowMentions] = useState(false);
        const [mentionSearch, setMentionSearch] = useState('');
        const [cursorPosition, setCursorPosition] = useState(0);
        const textareaRef = useRef(null);

        const teamMembers = [
          { id: 1, name: 'Mateus Nunes' },
          { id: 2, name: 'Jason Fraser' },
          { id: 3, name: 'Blake Monroe' },
          { id: 4, name: 'Alex Bennett' },
          { id: 5, name: 'Laura Albany' },
          { id: 6, name: 'Redon Gjika' },
          { id: 7, name: 'Tyze Whorton' },
          { id: 8, name: 'Aaron Gant' },
        ];

        const filteredMembers = teamMembers.filter(m => m.name.toLowerCase().includes(mentionSearch.toLowerCase()));

        const handleInputChange = (e) => {
          const value = e.target.value;
          const pos = e.target.selectionStart;
          setContent(value);
          setCursorPosition(pos);
          const textBeforeCursor = value.slice(0, pos);
          const atMatch = textBeforeCursor.match(/@(\w*)$/);
          if (atMatch) {
            setShowMentions(true);
            setMentionSearch(atMatch[1]);
          } else {
            setShowMentions(false);
            setMentionSearch('');
          }
        };

        const insertMention = (member) => {
          const textBeforeCursor = content.slice(0, cursorPosition);
          const textAfterCursor = content.slice(cursorPosition);
          const atIndex = textBeforeCursor.lastIndexOf('@');
          const newText = textBeforeCursor.slice(0, atIndex) + '@' + member.name + ' ' + textAfterCursor;
          setContent(newText);
          setShowMentions(false);
          setMentionSearch('');
          textareaRef.current?.focus();
        };

        const handleSubmit = () => {
          if (content.trim()) {
            onSubmit(content);
            setContent('');
          }
        };

        return (
          <div style={{ border: '1px solid var(--border-light)', borderRadius: '8px', background: 'var(--bg-white)', overflow: 'hidden' }}>
            <div style={{ display: 'flex', alignItems: 'center', gap: '4px', padding: '8px 12px', borderBottom: '1px solid var(--border-light)', background: '#fafafa' }}>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-secondary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="bold" className="w-4" /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="italic" className="w-4" /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="underline" className="w-4" /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="strikethrough" className="w-4" /></button>
              <div style={{ width: '1px', height: '20px', background: '#ccc', margin: '0 4px' }} />
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)', display: 'flex', alignItems: 'center', gap: '2px' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="type" className="w-4" /><Icon name="chevron-down" style={{ width: '12px', height: '12px' }} /></button>
              <div style={{ width: '1px', height: '20px', background: '#ccc', margin: '0 4px' }} />
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="link" className="w-4" /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)', display: 'flex', alignItems: 'center', gap: '2px' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="list-ordered" className="w-4" /><Icon name="chevron-down" style={{ width: '12px', height: '12px' }} /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)', display: 'flex', alignItems: 'center', gap: '2px' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="list" className="w-4" /><Icon name="chevron-down" style={{ width: '12px', height: '12px' }} /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="image" className="w-4" /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="sparkles" className="w-4" /></button>
              <button style={{ padding: '6px', background: 'transparent', border: 'none', cursor: 'pointer', borderRadius: '4px', color: 'var(--text-tertiary)' }} onMouseOver={(e) => e.currentTarget.style.background = '#e5e5e5'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}><Icon name="plus" className="w-4" /></button>
            </div>
            <div style={{ position: 'relative' }}>
              <textarea
                ref={textareaRef}
                value={content}
                onChange={handleInputChange}
                placeholder="Type @ to mention someone..."
                style={{ width: '100%', padding: '12px 16px', fontSize: '14px', resize: 'none', border: 'none', outline: 'none', minHeight: '80px', fontFamily: 'inherit' }}
                autoFocus
              />
              {showMentions && filteredMembers.length > 0 && (
                <div style={{ position: 'absolute', left: '16px', top: '100%', marginTop: '4px', background: 'var(--bg-white)', border: '1px solid var(--border-light)', borderRadius: '8px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', zIndex: 50, width: '256px', maxHeight: '192px', overflow: 'auto' }}>
                  {filteredMembers.map(member => (
                    <button key={member.id} onClick={() => insertMention(member)} style={{ width: '100%', padding: '8px 12px', textAlign: 'left', fontSize: '14px', border: 'none', background: 'transparent', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '8px' }} onMouseOver={(e) => e.currentTarget.style.background = 'var(--bg-hover)'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}>
                      <div style={{ width: '24px', height: '24px', background: '#e5e5e5', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '10px', fontWeight: 500 }}>{member.name.split(' ').map(n => n[0]).join('')}</div>
                      {member.name}
                    </button>
                  ))}
                </div>
              )}
            </div>
            <div style={{ display: 'flex', alignItems: 'center', gap: '8px', padding: '8px 12px', borderTop: '1px solid var(--border-light)' }}>
              <button onClick={onCancel} style={{ padding: '6px 16px', fontSize: '14px', color: 'var(--text-primary)', border: '1px solid var(--border-light)', background: 'transparent', borderRadius: '8px', cursor: 'pointer' }}>Cancel</button>
              <button onClick={handleSubmit} disabled={!content.trim()} style={{ padding: '6px 16px', fontSize: '14px', color: 'white', background: 'var(--bonsai-green)', border: 'none', borderRadius: '8px', cursor: content.trim() ? 'pointer' : 'not-allowed', opacity: content.trim() ? 1 : 0.5 }}>Add Note</button>
            </div>
          </div>
        );
      };

      // Note Item Component
      const NoteItem = ({ item, onEdit, onDelete, isLast }) => {
        const [showMenu, setShowMenu] = useState(false);
        const menuRef = useRef(null);

        const getInitials = (name) => name.split(' ').map(n => n[0]).join('');

        const renderContent = (content) => {
          const parts = content.split(/(@\w+(?:\s+\w+)?)/g);
          return parts.map((part, i) => {
            if (part.startsWith('@')) {
              return <span key={i} style={{ color: '#1976d2', fontWeight: 500 }}>{part}</span>;
            }
            return part;
          });
        };

        useEffect(() => {
          const handleClickOutside = (e) => {
            if (menuRef.current && !menuRef.current.contains(e.target)) {
              setShowMenu(false);
            }
          };
          if (showMenu) {
            document.addEventListener('mousedown', handleClickOutside);
            return () => document.removeEventListener('mousedown', handleClickOutside);
          }
        }, [showMenu]);

        return (
          <div style={{ display: 'flex', gap: '12px' }} className="group">
            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
              <div style={{ width: '32px', height: '32px', background: '#e5e5e5', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '12px', fontWeight: 500, color: 'var(--text-secondary)', flexShrink: 0, zIndex: 10 }}>
                {getInitials(item.author)}
              </div>
              {!isLast && <div style={{ width: '1px', background: '#e5e5e5', flex: 1, minHeight: '16px' }} />}
            </div>
            <div style={{ flex: 1, minWidth: 0, paddingBottom: '16px' }}>
              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                <span style={{ fontSize: '14px', fontWeight: 500, color: 'var(--text-primary)' }}>{item.author}</span>
                <span style={{ fontSize: '12px', color: 'var(--text-tertiary)' }}>{item.edited && '(edited) · '}{item.date}</span>
                <div style={{ position: 'relative', marginLeft: 'auto' }} ref={menuRef}>
                  <button onClick={() => setShowMenu(!showMenu)} style={{ padding: '4px', color: 'var(--text-tertiary)', background: 'transparent', border: 'none', cursor: 'pointer', opacity: 0, transition: 'opacity 150ms' }} className="group-hover-visible">
                    <Icon name="more-horizontal" className="w-4" />
                  </button>
                  {showMenu && (
                    <div style={{ position: 'absolute', right: 0, top: '100%', marginTop: '4px', background: 'var(--bg-white)', border: '1px solid var(--border-light)', borderRadius: '8px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)', zIndex: 50, padding: '4px 0', width: '128px' }}>
                      <button onClick={() => { onEdit?.(item); setShowMenu(false); }} style={{ width: '100%', padding: '6px 12px', textAlign: 'left', fontSize: '14px', border: 'none', background: 'transparent', cursor: 'pointer' }} onMouseOver={(e) => e.currentTarget.style.background = 'var(--bg-hover)'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}>Edit</button>
                      <button onClick={() => { onDelete?.(item.id); setShowMenu(false); }} style={{ width: '100%', padding: '6px 12px', textAlign: 'left', fontSize: '14px', color: '#d32f2f', border: 'none', background: 'transparent', cursor: 'pointer' }} onMouseOver={(e) => e.currentTarget.style.background = 'var(--bg-hover)'} onMouseOut={(e) => e.currentTarget.style.background = 'transparent'}>Delete</button>
                    </div>
                  )}
                </div>
              </div>
              <p style={{ fontSize: '14px', color: 'var(--text-primary)', marginTop: '4px' }}>{renderContent(item.content)}</p>
            </div>
          </div>
        );
      };

      // Notes View Component
      const NotesView = ({ notes, setNotes }) => {
        const [isAddingNote, setIsAddingNote] = useState(false);
        const [editingNote, setEditingNote] = useState(null);

        const handleAddNote = (content) => {
          const newNote = {
            id: Date.now(),
            author: 'Lucas Did',
            date: 'Today, ' + new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),
            content,
            type: 'note'
          };
          setNotes([newNote, ...notes]);
          setIsAddingNote(false);
        };

        const handleDeleteNote = (id) => setNotes(notes.filter(n => n.id !== id));
        const handleEditNote = (note) => setEditingNote(note);
        const handleUpdateNote = (content) => {
          setNotes(notes.map(n => n.id === editingNote.id ? { ...n, content, edited: true } : n));
          setEditingNote(null);
        };

        return (
          <div style={{ padding: '16px 24px' }}>
            {isAddingNote ? (
              <div style={{ marginBottom: '16px' }}><NoteEditor onSubmit={handleAddNote} onCancel={() => setIsAddingNote(false)} /></div>
            ) : (
              <button onClick={() => setIsAddingNote(true)} style={{ display: 'flex', alignItems: 'center', gap: '8px', color: 'var(--text-tertiary)', background: 'transparent', border: 'none', cursor: 'pointer', marginBottom: '16px', padding: '8px 0', fontSize: '14px' }} onMouseOver={(e) => e.currentTarget.style.color = 'var(--text-primary)'} onMouseOut={(e) => e.currentTarget.style.color = 'var(--text-tertiary)'}>
                <Icon name="plus" className="w-4" /><span>Add Note</span>
              </button>
            )}
            <div>
              {notes.map((note, index) => (
                editingNote?.id === note.id ? (
                  <div key={note.id} style={{ padding: '12px 0' }}><NoteEditor initialValue={note.content} onSubmit={handleUpdateNote} onCancel={() => setEditingNote(null)} /></div>
                ) : (
                  <NoteItem key={note.id} item={note} onEdit={handleEditNote} onDelete={handleDeleteNote} isLast={index === notes.length - 1} />
                )
              ))}
            </div>
          </div>
        );
      };

      // Meetings View Component
      const MeetingsView = ({ zoomConnected = false, meetingsImported = false }) => {
        if (!zoomConnected) {
          return (
            <div style={{ margin: '24px', paddingBottom: '32px' }}>
              <div style={{ background: 'linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%)', border: '1px solid #bbdefb', borderRadius: '8px', padding: '32px', textAlign: 'center' }}>
                <div style={{ width: '64px', height: '64px', margin: '0 auto', borderRadius: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#1976d2', marginBottom: '16px' }}><Icon name="video" style={{ width: '32px', height: '32px', color: 'white' }} /></div>
                <h3 style={{ fontSize: '18px', fontWeight: 600, color: 'var(--text-primary)', marginBottom: '8px' }}>Connect Zoom to sync your meetings</h3>
                <p style={{ fontSize: '14px', color: 'var(--text-secondary)', marginBottom: '24px', maxWidth: '400px', margin: '0 auto 24px' }}>Automatically sync your Zoom meetings, recordings, and transcripts.</p>
                <button style={{ padding: '10px 20px', background: '#1976d2', color: 'white', borderRadius: '8px', border: 'none', fontSize: '14px', fontWeight: 500, cursor: 'pointer' }}>Connect Zoom</button>
              </div>
            </div>
          );
        }

        if (!meetingsImported) {
          return (
            <div style={{ margin: '24px', paddingBottom: '32px' }}>
              <h2 style={{ fontSize: '18px', fontWeight: 600, color: 'var(--text-primary)', marginBottom: '16px' }}>Past Meetings</h2>
              <div style={{ background: 'var(--bg-white)', border: '1px solid var(--border-light)', borderRadius: '8px', padding: '32px', textAlign: 'center' }}>
                <Icon name="calendar" style={{ width: '48px', height: '48px', color: 'var(--text-tertiary)', margin: '0 auto 8px' }} />
                <p style={{ fontSize: '14px', color: 'var(--text-tertiary)' }}>No past meetings</p>
              </div>
            </div>
          );
        }

        return (
          <div style={{ margin: '24px', paddingBottom: '32px' }}>
            <h2 style={{ fontSize: '18px', fontWeight: 600, color: 'var(--text-primary)', marginBottom: '16px' }}>Past Meetings</h2>
            <p style={{ fontSize: '14px', color: 'var(--text-tertiary)' }}>Meetings table would appear here</p>
          </div>
        );
      };

      // Email Modal Component
      const EmailModal = ({ email, onClose }) => {
        if (!email) return null;

        return (
          <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, background: 'rgba(0,0,0,0.5)', display: 'flex', alignItems: 'center', justifyContent: 'center', zIndex: 9999 }} onClick={onClose}>
            <div style={{ background: 'var(--bg-white)', borderRadius: '12px', maxWidth: '600px', width: '90%', maxHeight: '80vh', overflow: 'hidden', boxShadow: '0 20px 60px rgba(0,0,0,0.3)' }} onClick={(e) => e.stopPropagation()}>
              <div style={{ padding: '20px 24px', borderBottom: '1px solid var(--border-light)', display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>
                <h3 style={{ fontSize: '16px', fontWeight: 600, margin: 0 }}>View email</h3>
                <button onClick={onClose} style={{ background: 'transparent', border: 'none', cursor: 'pointer', padding: '4px', color: 'var(--text-secondary)' }}>
                  <Icon name="x" className="w-5" />
                </button>
              </div>
              <div style={{ padding: '24px', maxHeight: 'calc(80vh - 80px)', overflow: 'auto' }}>
                <h2 style={{ fontSize: '18px', fontWeight: 600, marginBottom: '16px', color: 'var(--text-primary)' }}>{email.subject}</h2>
                <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '20px' }}>
                  <div style={{ width: '40px', height: '40px', borderRadius: '50%', background: '#7c3aed', display: 'flex', alignItems: 'center', justifyContent: 'center', color: 'white', fontWeight: 600, fontSize: '14px' }}>
                    {email.actor?.split(' ').map(n => n[0]).join('')}
                  </div>
                  <div>
                    <div style={{ fontWeight: 600, fontSize: '14px', color: 'var(--text-primary)' }}>{email.actor}</div>
                    <div style={{ fontSize: '12px', color: 'var(--text-tertiary)' }}>to {email.to}</div>
                    <div style={{ fontSize: '12px', color: 'var(--text-tertiary)' }}>{email.date} {email.time}</div>
                  </div>
                </div>
                <div style={{ fontSize: '14px', lineHeight: '1.6', color: 'var(--text-primary)', whiteSpace: 'pre-wrap' }}>
                  {email.fullContent}
                </div>
              </div>
            </div>
          </div>
        );
      };

      // Contact Detail Page
      const ContactDetail = ({ contact, onBack }) => {
        const [activeTab, setActiveTab] = useState('activity');
        const [selectedEmail, setSelectedEmail] = useState(null);
        const [notes, setNotes] = useState([
          {
            id: 1,
            author: 'Lucas Did',
            date: 'Today, 2:34 PM',
            content: 'Had a great conversation with @Mateus Nunes about the Q4 roadmap. Following up next week.',
            type: 'note'
          },
          {
            id: 2,
            author: 'Jason Fraser',
            date: 'Yesterday, 4:15 PM',
            content: 'Discussed pricing options. They are interested in the enterprise plan.',
            type: 'note'
          }
        ]);
        const activities = getActivitiesForContact(contact.id);
        const upcomingActivities = activities.filter(a => a.upcoming);
        const pastActivities = activities.filter(a => !a.upcoming);

        return (
          <>
            {selectedEmail && <EmailModal email={selectedEmail} onClose={() => setSelectedEmail(null)} />}
            <div className="detail-page">
            <div className="detail-topbar">
              <div className="breadcrumb-topbar">
                <span onClick={onBack} style={{ cursor: 'pointer' }}>Contacts</span>
                <span className="breadcrumb-sep">/</span>
                <span>{contact.name}</span>
              </div>
              <div className="topbar-right">
                <button className="icon-btn"><Icon name="dots" /></button>
                <button className="icon-btn"><Icon name="plus" /></button>
              </div>
            </div>
            <div className="detail-content">
              <div className="detail-main">
                <div className="contact-header-section">
                  <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '12px' }}>
                    {contact.avatar ? (
                      <img src={contact.avatar} alt={contact.name} style={{ width: '48px', height: '48px', borderRadius: '50%', objectFit: 'cover', flexShrink: 0 }} />
                    ) : (
                      <div className="contact-avatar-large">{contact.initials}</div>
                    )}
                    <div className="contact-info-text" style={{ flex: 1 }}>
                      <h1>{contact.name}</h1>
                      <p>Creative Director at <span style={{ color: contact.companyColor }}>{contact.company}</span></p>
                    </div>
                  </div>
                  <div className="contact-actions">
                    <button className="btn-default"><Icon name="document" className="w-4" /> Note</button>
                    <button className="btn-default"><Icon name="mail" className="w-4" /> Email</button>
                    <button className="btn-default"><Icon name="phone" className="w-4" /> Call</button>
                    <button className="btn-default"><Icon name="calendar" className="w-4" /> Meeting</button>
                    <button className="btn-default"><Icon name="dots" className="w-4" /></button>
                  </div>
                  <div className="tabs-container">
                    {['activity', 'notes', 'meetings', 'emails'].map(tab => (
                      <div
                        key={tab}
                        className={`tab ${activeTab === tab ? 'active' : ''}`}
                        onClick={() => setActiveTab(tab)}
                      >
                        {tab === 'activity' ? 'All Activity' : tab.charAt(0).toUpperCase() + tab.slice(1)}
                      </div>
                    ))}
                  </div>
                </div>

                {activeTab === 'activity' && (
                  <div className="activity-container">
                    {upcomingActivities.length > 0 && (
                      <div className="activity-section">
                        <div className="section-title">Upcoming</div>
                        {upcomingActivities.map(activity => (
                          <div key={activity.id} className="meeting-card">
                            <div className="meeting-info-section">
                              <div className="meeting-icon-box">
                                <Icon name="video" style={{ color: '#1976d2' }} />
                              </div>
                              <div className="meeting-details">
                                <div className="meeting-title">{activity.title}</div>
                                <div className="meeting-meta">Meeting — {activity.date} — {activity.time} 👤 {activity.attendees}</div>
                              </div>
                            </div>
                            <button className="btn-join">Join Meeting</button>
                          </div>
                        ))}
                      </div>
                    )}

                    <div className="activity-section">
                      <div className="section-title">History</div>
                      <div className="activity-timeline">
                        {pastActivities.map((activity, idx) => (
                          <ActivityItem key={activity.id} activity={activity} contact={contact} onEmailClick={setSelectedEmail} />
                        ))}
                      </div>
                    </div>
                  </div>
                )}

                {activeTab === 'notes' && (
                  <div className="activity-container">
                    <div style={{ marginBottom: '24px' }}>
                      <NoteEditor
                        onSubmit={(content) => {
                          const newActivity = {
                            id: Date.now(),
                            type: 'note_added',
                            date: new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
                            time: new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true }),
                            actor: 'Lucas Did',
                            content: content
                          };
                          // In a real app, this would update the activities
                          alert('Note added: ' + content);
                        }}
                        onCancel={() => {}}
                      />
                    </div>
                    <div className="activity-section">
                      <div className="section-title">History</div>
                      <div className="activity-timeline">
                        {pastActivities.filter(a => a.type === 'note_added').map((activity, idx) => (
                          <ActivityItem key={activity.id} activity={activity} contact={contact} onEmailClick={setSelectedEmail} />
                        ))}
                      </div>
                    </div>
                  </div>
                )}

                {activeTab === 'meetings' && (
                  <div className="activity-container">
                    {upcomingActivities.length > 0 && (
                      <div className="activity-section">
                        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '16px' }}>
                          <div className="section-title" style={{ marginBottom: 0 }}>Upcoming</div>
                          <button style={{ width: '32px', height: '32px', borderRadius: '8px', border: '1px solid var(--border-light)', background: 'var(--bg-white)', display: 'flex', alignItems: 'center', justifyContent: 'center', cursor: 'pointer', color: 'var(--text-secondary)' }} onMouseOver={(e) => e.currentTarget.style.background = 'var(--bg-hover)'} onMouseOut={(e) => e.currentTarget.style.background = 'var(--bg-white)'}>
                            <Icon name="plus" className="w-4" />
                          </button>
                        </div>
                        {upcomingActivities.map(activity => (
                          <div key={activity.id} className="meeting-card">
                            <div className="meeting-info-section">
                              <div className="meeting-icon-box">
                                <Icon name="video" style={{ color: '#1976d2' }} />
                              </div>
                              <div className="meeting-details">
                                <div className="meeting-title">{activity.title}</div>
                                <div className="meeting-meta">Meeting — {activity.date} — {activity.time} 👤 {activity.attendees}</div>
                              </div>
                            </div>
                            <button className="btn-join">Join Meeting</button>
                          </div>
                        ))}
                      </div>
                    )}
                    <div className="activity-section">
                      <div className="section-title">History</div>
                      <div className="activity-timeline">
                        {pastActivities.filter(a => a.type.includes('meeting')).map((activity, idx) => (
                          <ActivityItem key={activity.id} activity={activity} contact={contact} onEmailClick={setSelectedEmail} />
                        ))}
                      </div>
                    </div>
                  </div>
                )}

                {activeTab === 'emails' && (
                  <div className="activity-container">
                    <div className="activity-section">
                      <div className="section-title">History</div>
                      <div className="activity-timeline">
                        {pastActivities.filter(a => a.type.includes('email')).map((activity, idx) => (
                          <ActivityItem key={activity.id} activity={activity} contact={contact} onEmailClick={setSelectedEmail} />
                        ))}
                      </div>
                    </div>
                  </div>
                )}
              </div>

              <div className="detail-sidebar-right">
                <div className="properties-section">
                  <div className="properties-title">Properties</div>
                  <div className="properties-grid">
                    <div className="property-item">
                      <div className="property-label">Company</div>
                      <div className="property-value">{contact.company}</div>
                    </div>
                    <div className="property-item">
                      <div className="property-label">Job Title</div>
                      <div className="property-value">{contact.role}</div>
                    </div>
                    <div className="property-item">
                      <div className="property-label">Email</div>
                      <div className="property-value">{contact.email}</div>
                    </div>
                    <div className="property-item">
                      <div className="property-label">Phone Number</div>
                      <div className="property-value">{contact.phone}</div>
                    </div>
                    <div className="property-item">
                      <div className="property-label">Birthday</div>
                      <div className="property-value">{contact.birthday}</div>
                    </div>
                    <div className="property-item">
                      <div className="property-label">Comments</div>
                      <div className="property-value">{contact.comments}</div>
                    </div>
                    <div className="property-item">
                      <div className="property-label">Region</div>
                      <div className="property-value">{contact.region}</div>
                    </div>
                  </div>
                </div>

                <div className="properties-section">
                  <div className="properties-title">Companies (1)</div>
                  <div className="company-item">
                    <div className="company-avatar" style={{ backgroundColor: contact.companyColor }}>
                      {contact.companyInitials}
                    </div>
                    <div className="company-info">
                      <div className="company-name">{contact.company}</div>
                      <span className="badge">Primary</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          </>
        );
      };

      // Main App
      const App = () => {
        const [selectedContact, setSelectedContact] = useState(null);

        return (
          <div className="app-container">
            <Sidebar />
            <div className="main-content">
              <div className="topbar">
                <div className="topbar-left">
                  <div className="page-title-topbar">Contacts</div>
                </div>
                <div className="topbar-right">
                  <button className="icon-btn"><Icon name="search" /></button>
                  <button className="icon-btn">🔔</button>
                  <button className="icon-btn">⚙️</button>
                </div>
              </div>
              <div className="content-area">
                {selectedContact ? (
                  <ContactDetail contact={selectedContact} onBack={() => setSelectedContact(null)} />
                ) : (
                  <div className="table-container">
                    <ContactsTable contacts={contacts} onSelectContact={setSelectedContact} />
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      };

      ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
